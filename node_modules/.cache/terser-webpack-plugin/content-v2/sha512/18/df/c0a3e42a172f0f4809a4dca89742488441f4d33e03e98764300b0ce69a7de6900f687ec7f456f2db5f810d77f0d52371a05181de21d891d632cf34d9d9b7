{"code":"!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=17)}([function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));const a={STORE_PICKUP:\"STORE_PICKUP\",DELIVERY:\"DELIVERY\",GET_PRODUCT_DETAIL:\"GET_PRODUCT_DETAIL\",GET_ALL_PRODUCTS:\"GET_ALL_PRODUCTS\",TOGGLE_FAVORITE_PRODUCT:\"TOGGLE_FAVORITE_PRODUCT\",GET_CATEGORIES_SUCCESS:\"GET_CATEGORIES_SUCCESS\",CHANGE_ITEM_NUMBER_IN_CART:\"CHANGE_ITEM_NUMBER_IN_CART\",CHANGE_TIME_PICKUP:\"CHANGE_TIME_PICKUP\",APPLY_COUPON:\"APPLY_COUPON\",RESET_COUPON:\"RESET_COUPON\",RESET_CART:\"RESET_CART\",ADD_CART:\"ADD_CART\",CHANGE_DEFAULT_ADDRESS:\"CHANGE_DEFAULT_ADDRESS\",GET_BUYER_INFO:\"GET_BUYER_INFO\",UPDATE_ADDRESS:\"UPDATE_ADDRESS\",DELETE_ADDRESS:\"DeLETE_ADDRESS\",REMOVE_ADDRESS:\"REMOVE_ADDRESS\",ADD_ADDRESS:\"ADD_ADDRESS\",GET_ORDER_INFO:\"GET_ORDER_INFO\",GET_ALL_ORDERS:\"GET_ALL_ORDERS\",ORDER:\"ORDER\",TOGGLE_FAVORITE_STORE:\"TOGGLE_FAVORITE_STORE\",REMOVE_FAVORITE_STORE:\"REMOVE_FAVORITE_STORE\",CHANGE_DEFAULT_STORE:\"CHANGE_DEFAULT_STORE\",ADD_FAVORITE_STORE:\"ADD_FAVORITE_STORE\",GET_STORE_INFO:\"GET_STORE_INFO\",GET_ALL_STORE:\"GET_ALL_STORE\",REFRESH_USER_TOKEN:\"REFRESH_USER_TOKEN\",GET_USER_TOKEN:\"GET_USER_TOKEN\",SUCCESS:\"SUCCESS\",FAILURE:\"FAILURE\",LOADING:\"LOADING\",NONE:\"NONE\",DELIVERING:\"DELIVERING\",PREPARING:\"PREPARING\",COMPLETED:\"COMPLETED\",DELIVERED:\"DELIVERED\",RECEIVED:\"RECEIVED\",READY:\"READY\",FAIL:\"FAIL\",RESERVED:\"reserved\",PAST:\"past\",CANCELED:\"canceled\",GET_ALL_RESERVATIONS:\"GET_ALL_RESERVATIONS\",GET_RESERVATION_DETAIL:\"GET_RESERVATION_DETAIL\",CANCEL_BOOKING:\"CANCEL_BOOKING\",BOOKING_TABLE:\"BOOKING_TABLE\",SELECT_TABLE:\"SELECT_TABLE\"}},function(e,t,n){\"use strict\";n.d(t,\"d\",(function(){return a})),n.d(t,\"b\",(function(){return o})),n.d(t,\"f\",(function(){return i})),n.d(t,\"h\",(function(){return s})),n.d(t,\"g\",(function(){return c})),n.d(t,\"c\",(function(){return d})),n.d(t,\"e\",(function(){return u})),n.d(t,\"a\",(function(){return p}));const a=e=>new Promise(t=>setTimeout(()=>{t()},e));function o(e,t){let n;return function(){const a=arguments,o=this;n&&clearTimeout(n),n=setTimeout(()=>{e.apply(o,a)},t)}}const i=(e,t=null)=>{let n=\"\";t&&(n=r(t)),my.navigateTo({url:`pages/${e}/index?${n}`})},s=(e,t=null)=>{let n=\"\";t&&(n=r(t)),my.redirectTo({url:`pages/${e}/index?${n}`})};function r(e){let t=\"\";for(const[n,a]of Object.entries(e))t+=`${n}=${a}&`;return t}function c(e){return(e=decodeURIComponent(e))&&\"string\"==typeof e?e.split(\"&\").reduce((e,t)=>{const[n,a]=t.split(\"=\");return e[n]=a,e},{}):{}}const d=(e,t,n=[])=>{let a=Object.keys(e),o=Object.keys(t);if(a=a.filter(e=>-1===n.indexOf(e)),o=o.filter(e=>-1===n.indexOf(e)),a.length!==o.length)return!1;for(const n of a){const a=e[n],o=t[n],i=l(a)&&l(o);if(i&&!d(a,o)||!i&&a!==o)return!1}return!0};function l(e){return null!=e&&\"object\"==typeof e}function u(e,t){let n=\"\"+e;for(;n.length<t;)n=\"0\"+n;return n}function p(e){return JSON.parse(JSON.stringify(e))}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return O})),n.d(t,\"b\",(function(){return T})),n.d(t,\"c\",(function(){return p})),n.d(t,\"d\",(function(){return f}));const a=e=>\"function\"==typeof e,o=Object.prototype.toString,i=e=>\"[object Object]\"===o.call(e),s=e=>o.call(e),r=Object.keys,{hasOwnProperty:c}=Object.prototype,d=e=>{throw new Error(e)},l=my,u=(e=!1)=>({page:[\"onLoad\",\"onUnload\"],component:[e?\"onInit\":\"didMount\",\"didUnmount\"]});function p(e){i(e)||d(\"provider must be an Object\");const{store:t,namespace:n=\"\",component2:o=!1}=e;t&&a(t.getState)&&a(t.dispatch)&&a(t.subscribe)||d(\"store must be a Redux Store instance\"),l.__REDUX_BINDINGS_PROVIDER__={store:t,lifetimes:u(o),namespace:n}}function h(){return l.__REDUX_BINDINGS_PROVIDER__||d(\"Please setup provider first\"),l.__REDUX_BINDINGS_PROVIDER__}const m=()=>h().store.dispatch;function f(e){const{store:t}=h();let n=t.getState();return t.subscribe(()=>{const a=t.getState();e(a,n),n=a})}function g(e){const t=h().store.getState(),n={};for(let a=0,o=e.length;a<o;a++){const o=e[a];switch(typeof o){case\"string\":c.call(t,o)&&(n[o]=t[o]);break;case\"function\":{const e=o(t);i(e)&&Object.assign(n,e);break}}}return n}function b(e,t){i(e)?function(e,t){const n=m(),o=r(e);for(let i=0,s=o.length;i<s;i++){const s=o[i],r=e[s];a(r)&&(t[s]=(...e)=>n(r.apply(null,e)))}}(e,t):a(e)&&function(e,t){const n=e(m());i(n)||d(\"The mapDispatch function must return an object\"),Object.assign(t,n)}(e,t)}function v(e,t,n,a){const o=r(e),i=r(t),c=o.length,d=i.length;if(!(c<1&&d<1))if(c<1||d<1||c<d)n[a]=e;else{for(let t=0;t<d;t++){const s=i[t];if(o.indexOf(s)<0)return void(n[a]=e)}for(let r=0;r<c;r++){const c=o[r],d=e[c],l=`${a}.${c}`;if(i.indexOf(c)<0){n[l]=d;continue}const u=t[c];if(d!==u){const e=s(d);e!==s(u)?n[l]=d:\"[object Object]\"===e?v(d,u,n,l):\"[object Array]\"===e?C(d,u,n,l):n[l]=d}}}}function C(e,t,n,a){const o=e.length,i=t.length;if(!(o<1&&i<1))if(o<1||i<1||o<i)n[a]=e;else for(let r=0;r<o;r++){const o=e[r],c=`${a}[${r}]`;if(r>=i){n[c]=o;continue}const d=t[r];if(o!==d){const e=s(o);e!==s(d)?n[c]=o:\"[object Object]\"===e?v(o,d,n,c):\"[object Array]\"===e?C(o,d,n,c):n[c]=o}}}function y(e,t,n=\"\"){const a=r(e),o=r(t),i=a.length,c=o.length;if(i<1&&c<1)return{};if(i<1||c<1)return n?{[n]:e}:e;const d={};for(let r=0;r<i;r++){const i=a[r],c=e[i],l=n?`${n}.${i}`:i;if(o.indexOf(i)<0){d[l]=c;continue}const u=t[i];if(c!==u){const e=s(c);e!==s(u)?d[l]=c:\"[object Object]\"===e?v(c,u,d,l):\"[object Array]\"===e?C(c,u,d,l):d[l]=c}}return d}const S=[];function _(){if(S.length<1)return;let e;for(;e=S.shift();){const t=y(e.updater,e.data,e.rootPath);r(t).length>0&&e.setData(t)}}function D(e,t){return f((n,a)=>{const o={};for(let e=0,s=t.length;e<s;e++){const s=t[e];switch(typeof s){case\"string\":n[s]!==a[s]&&(o[s]=n[s]);break;case\"function\":{const e=s(n);i(e)&&Object.assign(o,e);break}}}r(o).length>0&&function({id:e,data:t,setData:n},a){const o=S.find(t=>t.id===e);o?Object.assign(o.updater,a):S.push({id:e,rootPath:h().namespace,data:Object.assign({},t),updater:a,setData:n}),Object.assign(t,a),Promise.resolve().then(_)}(e,o)})}const E=Symbol(\"INSTANCE_ID\");function w({type:e=\"page\",mapState:t,mapDispatch:n,manual:a=!1}={}){\"page\"!==e&&\"component\"!==e&&d('The type attribute can only be \"page\" or \"component\"');const o=\"page\"===e,{lifetimes:i,namespace:s}=h();return function(c){if(Array.isArray(t)&&t.length>0){const n=g(t);c.data=Object.assign(c.data||{},s?{[s]:n}:n);const a=new Map,[o,d]=i[e],l=c[o],u=c[d];c[o]=function(...e){const n=()=>s?this.data[s]:this.data,o=y(g(t),n(),s);r(o).length>0&&this.setData(o);const i=Symbol(\"instanceId\"),c=D({id:i,data:n(),setData:this.setData.bind(this)},t);a.set(i,c),this[E]=i,l&&l.apply(this,e)},c[d]=function(){u&&u.apply(this);const e=this[E];if(a.has(e)){const t=a.get(e);a.delete(e),t()}}}if(n){const e=o?c:c.methods=c.methods||{};b(n,e)}return a?c:o?Page(c):Component(c)}}function T(e={}){return e.type=\"page\",w(e)}function O(e={}){return e.type=\"component\",w(e)}},function(e,t,n){e.exports=n(48)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s})),n.d(t,\"c\",(function(){return r})),n.d(t,\"b\",(function(){return c}));var a=n(1);var o=n(0);const i={buyer:{defaultAddress:{_id:\"615ffd94709066373c2ab090\",name:\"Nick\",phone:\"0896969696\",email:\"nick@email.com\",addressText:\"285 CMT8, D.10, HCM city\",address:{street:\"17 Nguyen Trung Truc\",city:{id:294,name:\"Ho Chi Minh\"},district:{id:493,name:\"D.10\"},ward:{id:10396,name:\"W.8\"}}},addressList:[{_id:\"615ffd94709066373c2ab090\",name:\"Nick\",phone:\"0896969696\",email:\"nick@email.com\",addressText:\"285 CMT8, D.10, HCM city\",address:{street:\"285 CMT8\",city:{id:294,name:\"Ho Chi Minh\"},district:{id:493,name:\"D.10\"},ward:{id:10396,name:\"W.8\"}}},{_id:\"615ffd94709066373c2ab091\",name:\"Tu\",phone:\"0896969696\",email:\"tu@email.com\",addressText:\"147 Ton Dat Tien,D.7, HCM city\",address:{street:\"147 Ton Dat Tien\",city:{id:294,name:\"Ho Chi Minh\"},district:{id:490,name:\"D.7\"},ward:{id:10502,name:\"W.Phu Nhuan\"}}}]},orders:[{_id:\"247-96028\",price:148e3,shippingFee:2e4,promotion:5e4,total:118e3,date:\"21/02/2022\",pickupInfo:{time:{hour:\"14\",min:\"30\"},date:\"21/02/2022\"},time:\"13:40\",orderMethod:o.a.STORE_PICKUP,status:o.a.RECEIVED,products:[{name:\"Capuccino\",number:1,total:69e3,note:\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lectus rhoncus lorem risus sollicitudin.\",image:\"/assets/product_3.png\",selectedAttributes:[]},{name:\"Latte\",number:1,total:79e3,note:\"\",image:\"/assets/product_2.png\",selectedAttributes:[]}],store:{name:\"SB Han Thuyen\",address:\"13 Han Thuyen, D.1, HCM city\",phone:\"0908087290\"},paymentMethod:{name:\"Momo\",image:\"/assets/payment.png\"}},{_id:\"247-96029\",price:69e3,shippingFee:15e3,promotion:0,total:84e3,date:\"22/02/2022\",time:\"12:04\",pickupInfo:{time:{hour:\"10\",min:\"30\"},date:\"23/02/2022\"},orderMethod:o.a.STORE_PICKUP,status:o.a.READY,products:[{name:\"Capuccino\",number:1,total:69e3,note:\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lectus rhoncus lorem risus sollicitudin.\",image:\"/assets/product_3.png\",selectedAttributes:[{name:\"Size\",values:[\"Small\"]}]}],store:{name:\"SB Han Thuyen\",address:\"13 Han Thuyen, D.1, HCM city\",phone:\"0908087290\"},paymentMethod:{name:\"Momo\",image:\"/assets/payment.png\"}},{_id:\"247-96099\",price:79e3,shippingFee:15e3,promotion:5e4,total:44e3,date:\"22/02/2022\",time:\"12:04\",pickupInfo:{time:{hour:\"12\",min:\"30\"},date:\"22/02/2022\"},orderMethod:o.a.STORE_PICKUP,status:o.a.COMPLETED,products:[{name:\"Latte\",number:1,total:79e3,note:\"\",image:\"/assets/product_2.png\",selectedAttributes:[{name:\"Size\",values:[\"Small\"]}]}],store:{name:\"SB Han Thuyen\",address:\"13 Han Thuyen, D.1, HCM city\",phone:\"0908087290\"},paymentMethod:{name:\"Momo\",image:\"/assets/payment.png\"}}],stores:[{_id:\"615ffd94709066373c2ac090\",favorite:!0,open:\"07:00\",close:\"22:00\",phone:\"0909090909\",name:\"SB Van Hanh Mall\",address:\"11 Su Van Hanh, D.10, HCM city\",images:[\"https://i.ibb.co/ydrQnJG/store-info.png\"]},{_id:\"615ffd94709066373c2aa090\",favorite:!0,open:\"07:00\",close:\"22:00\",phone:\"0909090909\",name:\"SB CMT8\",address:\"24 bis Cach Mang Thang 8, D.3,...\",images:[\"https://i.ibb.co/Ldv273n/store-info.png\",\"https://i.ibb.co/Ldv273n/store-info.png\"]},{_id:\"615ffd94709066373c2ad090\",favorite:!0,open:\"07:00\",close:\"22:00\",phone:\"0909090909\",name:\"SB Han Thuyen\",address:\"11-13 Han Thuyen, D.1, HCM city\",images:[\"https://i.ibb.co/Ldv273n/store-info.png\",\"https://i.ibb.co/Ldv273n/store-info.png\"]},{_id:\"615ffd94709066373c2ae090\",favorite:!1,open:\"07:00\",close:\"22:00\",phone:\"0909090909\",name:\"SB Leman\",address:\"117 Nguyen Dinh Chieu, D.3, HC...\",images:[\"https://i.ibb.co/Ldv273n/store-info.png\",\"https://i.ibb.co/Ldv273n/store-info.png\"]},{_id:\"615ffd94709066373c2fb090\",favorite:!1,open:\"07:00\",close:\"22:00\",phone:\"0909090909\",name:\"SB Ibis\",address:\"2 Hong Ha st, D.Tan Binh, HCM...\",images:[\"https://i.ibb.co/Ldv273n/store-info.png\",\"https://i.ibb.co/Ldv273n/store-info.png\"]},{_id:\"615ffd94709066373c21b090\",favorite:!1,open:\"07:00\",close:\"22:00\",phone:\"0909090909\",name:\"SB Golden Mansion\",address:\"119 Pho Quang, Phu Nhuan, HCM...\",images:[\"https://i.ibb.co/Ldv273n/store-info.png\",\"https://i.ibb.co/Ldv273n/store-info.png\"]},{_id:\"615ffd94709066373c22b090\",favorite:!1,open:\"07:00\",close:\"22:00\",phone:\"0909090909\",name:\"SB New World\",address:\"76 Le Lai D.1, HCM city\",images:[\"https://i.ibb.co/Ldv273n/store-info.png\",\"https://i.ibb.co/Ldv273n/store-info.png\"]}],coupons:[{code:\"COUPON01\",value:15e3},{code:\"COUPON02\",value:1e4}],banners:[{image:\"https://i.ibb.co/bFN5SPy/banner-2.png\"},{image:\"https://i.ibb.co/yphN1JN/banner-1.png\"},{image:\"https://i.ibb.co/jLQMBx4/banner-4.png\"}],products:[{_id:\"625ffd94709066373c1ab011\",name:\"Capuccino\",price:69e3,isNew:!0,available:!0,isFavorite:!0,type:[\"Coffee\",\"Tea\"],avatar:\"/assets/product_3.png\",description:\"Dark, rich espresso lies in wait under a smoothed and stretched layer of thick milk foam. An alchemy of barista artistry and craft.\",images:[\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\"],attributes:[{name:\"Size\",_id:\"615ffd94709066373c2ab011\",numberSelectionAllow:1,default:[\"615ffd94709066373c2ab02b\"],values:[{_id:\"615ffd94709066373c2ab02b\",name:\"Small\",image:\"/assets/attr_1.png\",additionalFee:0},{_id:\"615ffd94709066373c2ab02c\",name:\"Large\",image:\"/assets/attr_3.png\",additionalFee:1e4}]},{_id:\"615ffd94709066373c2ab012\",name:\"Topping\",numberSelectionAllow:2,default:[],values:[{_id:\"615ffd94709066373c2ab02d\",name:\"Espresso (1 shot)\",image:\"/assets/attr_2.png\",additionalFee:1e4}]}]},{_id:\"635ffd94709066373c1ab011\",name:\"Latte\",price:59e3,avatar:\"/assets/product_2.png\",isNew:!1,available:!0,isFavorite:!0,type:[\"Coffee\",\"Milk tea\",\"Tea\"],description:\"Dark, rich espresso lies in wait under a smoothed and stretched layer of thick milk foam. An alchemy of barista artistry and craft.\",images:[\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\"],attributes:[{name:\"Size\",_id:\"615ffd94709066373c2ab011\",numberSelectionAllow:1,default:[\"615ffd94709066373c2ab02b\"],values:[{_id:\"615ffd94709066373c2ab02b\",name:\"Small\",image:\"/assets/attr_1.png\",additionalFee:0},{_id:\"615ffd94709066373c2ab02c\",name:\"Large\",image:\"/assets/attr_3.png\",additionalFee:1e4}]},{_id:\"615ffd94709066373c2ab012\",name:\"Topping\",numberSelectionAllow:2,default:[],values:[{_id:\"615ffd94709066373c2ab02d\",name:\"Espresso (1 shot)\",image:\"/assets/attr_2.png\",additionalFee:1e4}]}]},{_id:\"645ffd94709066373c1ab011\",name:\"Pure black\",price:59e3,avatar:\"/assets/product_1.png\",isNew:!1,available:!0,isFavorite:!0,type:[\"Coffee\"],description:\"Dark, rich espresso lies in wait under a smoothed and stretched layer of thick milk foam. An alchemy of barista artistry and craft.\",images:[\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\"],attributes:[{name:\"Size\",_id:\"615ffd94709066373c2ab011\",numberSelectionAllow:1,default:[\"615ffd94709066373c2ab02b\"],values:[{_id:\"615ffd94709066373c2ab02b\",name:\"Small\",image:\"/assets/attr_1.png\",additionalFee:0},{_id:\"615ffd94709066373c2ab02c\",name:\"Large\",image:\"/assets/attr_3.png\",additionalFee:1e4}]},{_id:\"615ffd94709066373c2ab012\",name:\"Topping\",numberSelectionAllow:2,default:[],values:[{_id:\"615ffd94709066373c2ab02d\",name:\"Espresso (1 shot)\",image:\"/assets/attr_2.png\",additionalFee:1e4}]}]},{_id:\"655ffd94709066373c1ab011\",name:\"Teavana® Mango\",price:69e3,avatar:\"/assets/product_4.png\",isNew:!0,available:!0,isFavorite:!0,type:[\"Coffee\"],description:\"Dark, rich espresso lies in wait under a smoothed and stretched layer of thick milk foam. An alchemy of barista artistry and craft.\",images:[\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\"],attributes:[]},{_id:\"675ffd94709066373c1ab011\",name:\"Hawaiian pizza\",price:109e3,avatar:\"/assets/product_5.png\",isNew:!0,available:!1,isFavorite:!1,type:[\"Pizza\",\"Snacks\"],description:\"Dark, rich espresso lies in wait under a smoothed and stretched layer of thick milk foam. An alchemy of barista artistry and craft.\",images:[\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\"],attributes:[]},{_id:\"665ffd94709066373c1ab011\",name:\"Robusta 1Kg\",price:59e3,avatar:\"/assets/product_7.png\",isNew:!0,available:!0,isFavorite:!1,type:[\"Bakery\"],description:\"Dark, rich espresso lies in wait under a smoothed and stretched layer of thick milk foam. An alchemy of barista artistry and craft.\",images:[\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\"],attributes:[]},{_id:\"685ffd94709066373c1ab011\",name:\"Smoky burger\",price:59e3,avatar:\"/assets/product_6.png\",isNew:!0,available:!0,isFavorite:!1,type:[\"Snacks\",\"Burger\"],description:\"Dark, rich espresso lies in wait under a smoothed and stretched layer of thick milk foam. An alchemy of barista artistry and craft.\",images:[\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\",\"/assets/detail_1.png\"],attributes:[]}],campaigns:[{image:\"/assets/campaign_1.png\",title:\"Discount all Excelsa 20% in all stores\",subTitle:\"20/04/2020 - 06/09/2020\"},{image:\"/assets/campaign_2.png\",title:\"Discount all Liberica 20% in all stores\",subTitle:\"20/04/2020 - 06/09/2020\"},{image:\"/assets/campaign_3.png\",title:\"Discount all Excelsa 20% in all stores\",subTitle:\"20/04/2020 - 06/09/2020\"},{image:\"/assets/campaign_4.png\",title:\"Discount all Liberica 20% in all stores\",subTitle:\"20/04/2020 - 06/09/2020\"}],categories:[{name:\"Favorite\",_id:\"615ffd94709066373c1ab011\",products:[{_id:\"625ffd94709066373c1ab011\",name:\"Capuccino\",price:69e3,avatar:\"/assets/product_3.png\",isNew:!0,available:!0},{_id:\"635ffd94709066373c1ab011\",name:\"Latte\",price:59e3,avatar:\"/assets/product_2.png\",isNew:!1,available:!0},{_id:\"645ffd94709066373c1ab011\",name:\"Pure black\",price:59e3,avatar:\"/assets/product_1.png\",isNew:!1,available:!0},{_id:\"655ffd94709066373c1ab011\",name:\"Teavana® Mango\",price:69e3,avatar:\"/assets/product_4.png\",isNew:!0,available:!0}]},{name:\"Coffee\",_id:\"615ffd94709066373c3ab011\",products:[{_id:\"625ffd94709066373c1ab011\",name:\"Capuccino\",price:69e3,avatar:\"/assets/product_3.png\",isNew:!0,available:!0},{_id:\"635ffd94709066373c1ab011\",name:\"Latte\",price:59e3,avatar:\"/assets/product_2.png\",isNew:!1,available:!0},{_id:\"645ffd94709066373c1ab011\",name:\"Pure black\",price:59e3,avatar:\"/assets/product_1.png\",isNew:!1,available:!0}]},{_id:\"615ffd94709066373c4ab011\",name:\"Milk tea\",products:[{_id:\"625ffd94709066373c1ab011\",name:\"Capuccino\",price:69e3,avatar:\"/assets/product_3.png\",isNew:!0,available:!0},{_id:\"635ffd94709066373c1ab011\",name:\"Latte\",price:59e3,avatar:\"/assets/product_2.png\",isNew:!1,available:!0}]},{name:\"Tea\",_id:\"615ffd94709066373c9ab011\",products:[{_id:\"635ffd94709066373c1ab011\",name:\"Latte\",price:59e3,avatar:\"/assets/product_2.png\",isNew:!1,available:!0}]},{name:\"Bakery\",_id:\"615ffd94709066373c5ab011\",products:[{_id:\"665ffd94709066373c1ab011\",name:\"Robusta 1Kg\",price:59e3,avatar:\"/assets/product_7.png\",isNew:!0,available:!0}]},{name:\"Pizza\",_id:\"615ffd94709066373c6ab011\",products:[{_id:\"675ffd94709066373c1ab011\",name:\"Hawaiian pizza\",price:109e3,avatar:\"/assets/product_5.png\",isNew:!0,available:!1}]},{name:\"Burger\",_id:\"615ffd94709066373c7ab011\",products:[{_id:\"685ffd94709066373c1ab011\",name:\"Smoky burger\",price:59e3,avatar:\"/assets/product_6.png\",isNew:!0,available:!0}]}],reservations:[{_id:\"1\",status:o.a.RESERVED,date:\"19/03/2022\",time:\"13:00\",numberOfAdults:2,contact:{name:\"Nick\",phone:\"06969696969\",email:\"nick69@gmail.com\"},notes:{seats:[{title:\"Elderly people\",value:1},{title:\"Children\",value:1}],sittingArea:\"Any\",detail:\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Et amet leo.\"},store:{_id:\"615ffd94709066373c2ac090\",favorite:!0,open:\"07:00\",close:\"22:00\",phone:\"0909090909\",name:\"SB Van Hanh Mall\",address:\"11 Su Van Hanh, D.10, HCM city\",images:[\"https://i.ibb.co/Ldv273n/store-info.png\",\"https://i.ibb.co/Ldv273n/store-info.png\"]}},{_id:\"2\",status:o.a.PAST,date:\"15/03/2022\",time:\"13:00\",numberOfAdults:4,contact:{name:\"Nick\",phone:\"06969696969\",email:\"nick69@gmail.com\"},notes:{seats:[{title:\"Elderly people\",value:0},{title:\"Children\",value:1}],sittingArea:\"Any\"},store:{_id:\"615ffd94709066373c2aa090\",favorite:!0,open:\"07:00\",close:\"22:00\",phone:\"0909090909\",name:\"SB CMT8\",address:\"24 bis Cach Mang Thang 8, D.3,...\",images:[\"https://i.ibb.co/Ldv273n/store-info.png\",\"https://i.ibb.co/Ldv273n/store-info.png\"]}},{_id:\"3\",status:o.a.CANCELED,date:\"18/03/2022\",time:\"13:00\",numberOfAdults:3,contact:{name:\"Nick\",phone:\"06969696969\",email:\"nick69@gmail.com\"},notes:{seats:[{title:\"Elderly people\",value:0},{title:\"Children\",value:0}],sittingArea:\"Any\",detail:\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Et amet leo.\"},store:{_id:\"615ffd94709066373c2ad090\",favorite:!0,open:\"07:00\",close:\"22:00\",phone:\"0909090909\",name:\"SB Han Thuyen\",address:\"11-13 Han Thuyen, D.1, HCM city\",images:[\"https://i.ibb.co/Ldv273n/store-info.png\",\"https://i.ibb.co/Ldv273n/store-info.png\"]}},{_id:\"4\",status:o.a.RESERVED,date:\"19/03/2022\",time:\"18:00\",numberOfAdults:5,contact:{name:\"Nick\",phone:\"06969696969\",email:\"nick69@gmail.com\"},notes:{seats:[{title:\"Elderly people\",value:1},{title:\"Children\",value:1}],sittingArea:\"Any\",detail:\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Et amet leo.\"},store:{_id:\"615ffd94709066373c2ae090\",favorite:!1,open:\"07:00\",close:\"22:00\",phone:\"0909090909\",name:\"SB Leman\",address:\"117 Nguyen Dinh Chieu, D.3, HC...\",images:[\"https://i.ibb.co/Ldv273n/store-info.png\",\"https://i.ibb.co/Ldv273n/store-info.png\"]}},{_id:\"5\",status:o.a.RESERVED,date:\"20/03/2022\",time:\"19:00\",numberOfAdults:2,contact:{name:\"Nick\",phone:\"06969696969\",email:\"nick69@gmail.com\"},notes:{seats:[{title:\"Elderly people\",value:0},{title:\"Children\",value:0}],sittingArea:\"Inside\",detail:\"\"},store:{_id:\"615ffd94709066373c2fb090\",favorite:!1,open:\"07:00\",close:\"22:00\",phone:\"0909090909\",name:\"SB Ibis\",address:\"2 Hong Ha st, D.Tan Binh, HCM...\",images:[\"https://i.ibb.co/Ldv273n/store-info.png\",\"https://i.ibb.co/Ldv273n/store-info.png\"]}}]},s=async e=>(await Object(a.d)(500),Object(a.a)(i[e])),r=e=>Object(a.a)(i[e]),c=async(e,t)=>{if(await Object(a.d)(500),!i[e])return{};const n=i[e].filter(e=>e._id===t)[0];return n?Object(a.a)(n):{}}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t,n,a,o,i,s){try{var r=e[i](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(a,o)}e.exports=function(e){return function(){var t=this,a=arguments;return new Promise((function(o,i){var s=e.apply(t,a);function r(e){n(s,o,i,r,c,\"next\",e)}function c(e){n(s,o,i,r,c,\"throw\",e)}r(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return i})),n.d(t,\"a\",(function(){return s})),n.d(t,\"c\",(function(){return r})),n.d(t,\"d\",(function(){return c}));var a=n(0),o=n(4);const i=()=>async e=>{const t=await Object(o.a)(\"stores\");e({type:a.a.GET_ALL_STORE,data:t})},s=e=>t=>{t({type:a.a.CHANGE_DEFAULT_STORE,id:e})},r=e=>async t=>{t({type:a.a.GET_STORE_INFO,id:e})},c=(e,t)=>n=>{n({type:a.a.TOGGLE_FAVORITE_STORE,id:e,favorite:t})}},function(e,t,n){\"use strict\";n.d(t,\"d\",(function(){return i})),n.d(t,\"b\",(function(){return s})),n.d(t,\"a\",(function(){return r})),n.d(t,\"e\",(function(){return c})),n.d(t,\"c\",(function(){return d}));var a=n(4),o=n(0);const i=()=>async e=>{const t=await Object(a.a)(\"buyer\");e({type:o.a.GET_BUYER_INFO,data:t})},s=(e,t)=>n=>{n({type:o.a.CHANGE_DEFAULT_ADDRESS,id:e,data:t})},r=e=>t=>{t({type:o.a.ADD_ADDRESS,data:e})},c=e=>t=>{t({type:o.a.UPDATE_ADDRESS,data:e})},d=e=>t=>{t({type:o.a.DELETE_ADDRESS,id:e})}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a})),n.d(t,\"b\",(function(){return o}));var a=function(e){return null!=e},o=function(e){return a(e)&&(\"\"+e).trim().length>0}},function(e,t,n){\"use strict\";n.d(t,\"e\",(function(){return i})),n.d(t,\"a\",(function(){return s})),n.d(t,\"d\",(function(){return r})),n.d(t,\"c\",(function(){return c})),n.d(t,\"b\",(function(){return d}));var a=n(0),o=n(4);const i=e=>t=>{t({type:a.a.SELECT_TABLE,data:e})},s=e=>async t=>{t({type:a.a.BOOKING_TABLE,data:e})},r=()=>async e=>{const t=await Object(o.c)(\"reservations\");e({type:a.a.GET_ALL_RESERVATIONS,data:t})},c=e=>async t=>{t({type:a.a.GET_RESERVATION_DETAIL,id:e})},d=e=>async t=>{t({type:a.a.CANCEL_BOOKING,data:e})}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i})),n.d(t,\"b\",(function(){return s}));var a=n(13);var o=n(0);const i=()=>async e=>{const t=await(async()=>{try{return{...await a.a.getUserToken({openLogin:!0})}}catch(e){return null}})(),n=t?o.a.SUCCESS:o.a.FAILURE;e({type:o.a.GET_USER_TOKEN,data:t,status:n})},s=()=>async e=>{const t=await(async()=>{try{return{...await a.a.refreshUserToken()}}catch(e){return null}})(),n=t?o.a.SUCCESS:o.a.FAILURE;e({type:o.a.REFRESH_USER_TOKEN,data:t,status:n})}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i})),n.d(t,\"c\",(function(){return s})),n.d(t,\"b\",(function(){return r})),n.d(t,\"f\",(function(){return c})),n.d(t,\"d\",(function(){return d})),n.d(t,\"e\",(function(){return l}));var a=n(0),o=n(4);const i=e=>t=>{t({type:a.a.ADD_CART,data:e})},s=(e,t,n)=>o=>{o({type:a.a.CHANGE_ITEM_NUMBER_IN_CART,orderMethod:e,_id:t,value:n})},r=(e,t)=>n=>{const i=Object(o.c)(\"coupons\");let s=0,r=a.a.FAILURE;const c=i.filter(e=>e.code.toLowerCase()===t.trim().toLowerCase())[0];c&&(s=c.value,r=a.a.SUCCESS),n({type:a.a.APPLY_COUPON,orderMethod:e,status:r,value:s,code:t})},c=e=>t=>{t({type:a.a.RESET_COUPON,orderMethod:e,status:a.a.NONE,value:0})},d=(e,t)=>n=>{n({type:a.a.CHANGE_TIME_PICKUP,date:t,time:e})},l=e=>t=>{t({type:a.a.RESET_CART,orderMethod:e})}},function(e,t,n){\"use strict\";const a=new class{constructor(){this.data=[],this.config={debugJSAPI:!0}}addLogItem(e){this.data.unshift(e)}debug(...e){this.addLogItem({type:\"log\",createdAt:(new Date).getTime(),params:{input:e.join(\" \"),result:\"ok\",latency:0}})}clearLog(){this.data=[]}promisify(e,t){return(...n)=>new Promise((a,o)=>{let i,s;this.config.debugJSAPI&&(s=(new Date).getTime(),i={type:\"myx.\"+t,createdAt:s,params:{input:n}},this.addLogItem(i)),e({...n[0],success:e=>{this.config.debugJSAPI&&(i.params.result=e),a(e)},fail:e=>{this.config.debugJSAPI&&(i.params.error=e),o(e)},complete:()=>{this.config.debugJSAPI&&(i.params.latency=(new Date).getTime()-s)}})})}},o={get:function(e,t,n){return e[t]?e[t]:my[t]?e.promisify(my[t],t):void console.warn(`API myx.${t} does not exist.`)}},i=new Proxy(a,o);t.a=i},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return s})),n.d(t,\"c\",(function(){return r})),n.d(t,\"a\",(function(){return c}));var a=n(4),o=n(1),i=n(0);const s=e=>async t=>{await Object(o.d)(1500),t({type:i.a.GET_PRODUCT_DETAIL,id:e})},r=(e,t)=>n=>{n({type:i.a.TOGGLE_FAVORITE_PRODUCT,id:e,isFavorite:t})},c=()=>async e=>{const t=await Object(a.a)(\"products\");e({type:i.a.GET_ALL_PRODUCTS,data:t})}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));function a(e,t){void 0===t&&(t={});var n={};for(var a in e)/data-/gi.test(a)&&(n[a.replace(/data-/gi,\"\")]=e[a]);return Object.assign({},t,{currentTarget:{dataset:n},target:{dataset:n,targetDataset:n}})}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i})),n.d(t,\"b\",(function(){return s}));var a=n(4),o=n(0);const i=()=>async e=>{const t=await Object(a.a)(\"orders\");e({type:o.a.GET_ALL_ORDERS,data:t})},s=e=>async t=>{const n=await Object(a.b)(\"orders\",e);t({type:o.a.GET_ORDER_INFO,data:n})}},function(e,t,n){e.exports=n(18)},function(e,t,n){(function(e){if(e.__TF_MINIAPP_COMPILER_VERSION__=\"1.96.9\",self!==e&&(self=e),!self.__tfAppInited){if(self.__tfAppInited=1,!self.TFApp){var t=location.search.match(/tfp=([^&#]+)/);if(t&&t[1]){var a=decodeURIComponent(t[1]);a&&importScripts(a+\"/tf-tiniapp.worker.js\")}else{var o=location.search.match(/__enableCache=([^&#]+)/);if(o&&\"YES\"===o[1]){var i=\"\";location.hash&&location.hash.match(/NOCACHE/)&&(i=\"#NOCACHE\"),importScripts(\"miniapp-resource://framework/tf-tiniapp.worker.js\"+i)}}}(void 0!==e?e:self).tfAppJson={$homepage:\"pages/home/index\"};const s=self.TFApp.getAppContext?self.TFApp.getAppContext().TFApp:self.TFApp;self.App=s.App,self.getApp=s.getApp,self.Page=s.Page,self.Component=s.Component,self.$global=s.$global,self.my=s.bridge,self.getCurrentPages=s.getCurrentPages,s.registerApp&&s.registerApp({appJSON:tfAppJson}),self.TFApp.bootstrapApp({success:function(){n(89),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(92),n(40),n(41),n(42),n(95),n(43),n(44),n(45),n(96),n(46),n(47),n(91),n(49),n(50),n(51),n(52),n(93),n(53),n(54),n(97),n(98),n(55),n(99),n(56),n(94),n(100),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(101),n(102),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(103),n(104),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(90),n(82),n(83),n(84),n(105),n(106),n(107),n(85),n(86),n(87),n(88),n(108)}})}}).call(this,n(19))},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t){$global.currentComponentConfig={is:\"pages/home/child/header/index\",componentLifeCycleV2:\"YES\"},Component({props:{type:\"FULL\"}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1);$global.currentComponentConfig={is:\"pages/home/child/banner/index\",componentLifeCycleV2:\"YES\"},Component({props:{status:\"LOADING\",banners:[1,2,3,4]},methods:{onSelect(){Object(a.f)(\"web-view-page\")}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1);$global.currentComponentConfig={is:\"components/order-method/index\",componentLifeCycleV2:\"YES\"},Component({props:{image:\"\",title:\"\",subTitle:\"\",status:\"LOADING\",code:\"\"},methods:{onSelect(){this.props.code&&Object(a.f)(\"delivery\",{method:this.props.code})}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(15);$global.currentComponentConfig={is:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\",componentLifeCycleV2:\"YES\"},Component({props:{type:\"solid\",shape:\"rounded\",size:\"large\",skeleton:!1,loading:!1,disabled:!1},methods:{onTap:function(e){var t=this.props,n=t.onTap,o=t.disabled,i=t.skeleton,s=t.loading;!n||o||i||s||n(Object(a.a)(this.props,e))}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1);$global.currentComponentConfig={is:\"components/order-methods/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"order-method\":\"components/order-method/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Component({props:{status:\"LOADING\"},data:{orderMethods:[{code:\"STORE_PICKUP\",title:\"Store pickup\",subTitle:\"Best quality\",image:\"/assets/deliver_1.png\"},{code:\"DELIVERY\",title:\"Delivery\",subTItle:\"Always on time\",image:\"/assets/deliver_2.png\"}]},methods:{onReservationSelect(){Object(a.f)(\"online-reservation\")},onReservationsListSelect(){Object(a.f)(\"reservations\")},onLeftButtonClick(){Object(a.f)(\"reservations\")}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1);$global.currentComponentConfig={is:\"pages/home/child/campaign-card/index\",componentLifeCycleV2:\"YES\"},Component({props:{status:\"LOADING\",campaign:{}},methods:{handleSelect(){Object(a.f)(\"web-view-page\")}}})},function(e,t){$global.currentComponentConfig={is:\"pages/home/child/campaigns-list/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"campaign-card\":\"pages/home/child/campaign-card/index\"}},Component({props:{status:\"LOADING\",campaigns:[1,2,3,4]}})},function(e,t){$global.currentComponentConfig={is:\"pages/home/child/variant-01/index\",componentLifeCycleV2:\"YES\",usingComponents:{header:\"pages/home/child/header/index\",banner:\"pages/home/child/banner/index\",\"order-methods\":\"components/order-methods/index\",\"campaigns-list\":\"pages/home/child/campaigns-list/index\"}},Component({props:{headerType:\"\",banners:[],status:\"\",campaigns:[]}})},function(e,t){$global.currentComponentConfig={is:\"pages/home/child/variant-02/index\",componentLifeCycleV2:\"YES\",usingComponents:{header:\"pages/home/child/header/index\",banner:\"pages/home/child/banner/index\",\"order-methods\":\"components/order-methods/index\",\"campaigns-list\":\"pages/home/child/campaigns-list/index\"}},Component({props:{headerType:\"\",banners:[],status:\"\",campaigns:[]}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1);$global.currentComponentConfig={is:\"pages/home/child/variant-03/index\",componentLifeCycleV2:\"YES\",usingComponents:{header:\"pages/home/child/header/index\",banner:\"pages/home/child/banner/index\",\"order-methods\":\"components/order-methods/index\",\"campaigns-list\":\"pages/home/child/campaigns-list/index\"}},Component({props:{headerType:\"\",banners:[],status:\"\",campaigns:[]},methods:{onSelect(){Object(a.f)(\"web-view-page\")}}})},function(e,t){$global.currentComponentConfig={is:\"pages/home/child/variant-04/index\",componentLifeCycleV2:\"YES\",usingComponents:{header:\"pages/home/child/header/index\",banner:\"pages/home/child/banner/index\",\"order-methods\":\"components/order-methods/index\",\"campaigns-list\":\"pages/home/child/campaigns-list/index\"}},Component({props:{headerType:\"\",banners:[],status:\"\",campaigns:[]}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(1);$global.currentComponentConfig={is:\"components/sticky-bottom/index\",componentLifeCycleV2:!0},Object(a.a)({mapState:[e=>({cart:e.cart})]})({methods:{onTap(){Object(o.f)(\"cart\",{orderMethod:this.props.orderMethod})}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(4);$global.currentPageConfig={pagePath:\"pages/home/index\",usingComponents:{\"variant-01\":\"pages/home/child/variant-01/index\",\"variant-02\":\"pages/home/child/variant-02/index\",\"variant-03\":\"pages/home/child/variant-03/index\",\"variant-04\":\"pages/home/child/variant-04/index\",\"sticky-bottom\":\"components/sticky-bottom/index\"}},Page({data:{status:\"LOADING\",headerType:\"DEFAULT\",campaigns:[1,2,3,4],banners:[1,2,3]},async loadData(){try{const[e,t]=await Promise.all([Object(a.a)(\"banners\"),Object(a.a)(\"campaigns\")]);this.setData({...this.data,banners:e,campaigns:t,status:\"SUCCESS\"})}catch(e){this.setData({status:\"FAILURE\"})}},async onLoad(){this.loadData()},onShow(){my.setCanPullDown({canPullDown:!1})},onPageScroll(e){0===e.scrollTop&&this.setData({...this.data,headerType:\"DEFAULT\"}),e.scrollTop>=16&&this.setData({...this.data,headerType:\"SCROLLED\"})}})},function(e,t,n){\"use strict\";n.r(t);$global.currentComponentConfig={is:\"../node_modules/@tiki.vn/tini-ui/es/tu-icon/index\",componentLifeCycleV2:\"YES\"},Component({props:{type:\"\",size:24,color:\"#27272A\",className:\"\",style:\"\"},data:{},methods:{onTap:function(e){if(this.props.onTap instanceof Function)return this.props.onTap(e)}}})},function(e,t){$global.currentComponentConfig={is:\"../node_modules/@tiki.vn/tini-ui/es/modal/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"tu-icon\":\"../node_modules/@tiki.vn/tini-ui/es/tu-icon/index\"}},Component({data:{_buttonsLayout:\"\",adviceClose:26,normalClose:18},props:{className:\"\",topImageSize:\"md\",showClose:!1,show:!1,closeType:\"0\",mask:!0,buttonsLayout:\"horizontal\",disableScroll:!0,maskClick:!1,buttons:null,onModalClick:function(){},onButtonClick:function(){},onModalClose:function(){},onMaskClick:function(){}},didMount:function(){var e=this.props,t=e.buttons,n=e.buttonsLayout;t&&t.length>2?this.setData({_buttonsLayout:\"vertical\"}):this.setData({_buttonsLayout:n})},deriveDataFromProps:function(e){this._handleOverlay(e)},methods:{key:null,_handleOverlay:function(e){var t=this,n=e.mask,a=e.maskClick,o=e.show;n&&(o?(this.key=Date.now(),my.showOverlay({touchable:!!a,success:function(){a&&t.onClose()}})):this.key&&(this.key=null,my.hideOverlay({})))},_onModalClick:function(){var e=this.props.onModalClick;e&&e()},_onButtonClick:function(e){var t=this.props.onButtonClick;t&&t(e)},_onModalClose:function(){var e=this.props,t=e.onModalClose;e.mask&&this.key&&(this.key=null,my.hideOverlay({})),t&&t()},_onMaskTap:function(){var e=this.props.onMaskClick;if(\"function\"!=typeof e)return!1;e()}}})},function(e,t){$global.currentComponentConfig={is:\"components/c-modal/index\",componentLifeCycleV2:\"YES\",usingComponents:{button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\",modal:\"../node_modules/@tiki.vn/tini-ui/es/modal/index\"}},Component({props:{isShow:!1,headerContent:\"\",description:\"\",leftButton:\"OK\",rightButton:\"\",onLeftButtonClick(){},onRightButtonClick(){},onMaskClick(){},onClose(){}},methods:{onLeftButtonClick(){this.props.onLeftButtonClick()},onRightButtonClick(){this.props.onRightButtonClick()},onClose(){this.props.onClose()},onMaskClick(){this.props.onMaskClick()},onKeepingShow(){this.setData({isShow:!0})}}})},function(e,t){$global.currentComponentConfig={is:\"components/c-icon/index\",componentLifeCycleV2:\"YES\"},Component({props:{type:\"\",size:14,color:\"black\"},data:{isCustomIcon:!1,customIcon:{none:\"\",warning_fill:\"/assets/warning_icon.png\",tick_fill:\"/assets/tick_icon.png\"},colors:{white:\"#FFFFFF\",gray10:\"#F5F5FA\",gray20:\"#EBEBF0\",gray30:\"#DDDDE3\",gray40:\"#C4C4CF\",gray50:\"#A6A6B0\",gray60:\"#808089\",gray100:\"#27272A\",black:\"#000000\",brand:\"#1A94FF\",red:\"#FF424F\"}},onInit(){this.setData({isCustomIcon:void 0!==this.data.customIcon[this.props.type]})},didUpdate(){this.setData({isCustomIcon:void 0!==this.data.customIcon[this.props.type]})}})},function(e,t){$global.currentComponentConfig={is:\"pages/cart/child/cart-action/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"c-icon\":\"components/c-icon/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Component({props:{onShowCouponInput(){},onPay(){}},onInit(){},methods:{onShowCouponInput(){\"NONE\"===this.props.cart.coupon.status&&this.props.onShowCouponInput()},onResetCoupon(){this.props.onResetCoupon()},onPay(){this.props.onPay()}}})},function(e,t){$global.currentComponentConfig={is:\"../node_modules/@tiki.vn/tini-ui/es/popup/index\",componentLifeCycleV2:\"YES\"},Component({props:{className:\"\",show:!1,position:\"bottom\",mask:!0,maskClose:!0,animation:!0,disableScroll:!0},methods:{onMaskTap:function(){var e=this.props,t=e.maskClose,n=e.onClose,a=e.animation;t&&n&&(a?n():setTimeout((function(){n()}),200))}}})},function(e,t){$global.currentComponentConfig={is:\"../node_modules/@tiki.vn/tini-ui/es/bottom-sheet/index\",componentLifeCycleV2:\"YES\",usingComponents:{popup:\"../node_modules/@tiki.vn/tini-ui/es/popup/index\",\"tu-button\":\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Component({props:{mask:!0,maskClose:!0,animation:!0,show:!0,disableScroll:!1,className:\"\",popupClass:\"\",isContentScrollView:!0,distanceFromTop:50,zIndex:2,title:\"Bottom sheet\",buttonTitle:\"ok\",buttonShape:\"rounded\",buttonCls:\"\",onClose:void 0,onClick:void 0},didMount:function(){this._updateDataSet()},didUpdate:function(){this._updateDataSet()},deriveDataFromProps:function(e){this._handleOverlay(e)},methods:{_handleOverlay:function(e){var t=this,n=e.mask,a=e.maskClose,o=e.show;n&&(o?my.showOverlay({touchable:!!a,success:function(){a&&t.onClose()}}):my.hideOverlay({}))},_updateDataSet:function(){for(var e in this.dataset={},this.props)/data-/gi.test(e)&&(this.dataset[e.replace(/data-/gi,\"\")]=this.props[e])},onClose:function(){var e=this.props,t=e.mask,n=e.onClose;t&&my.hideOverlay({}),n&&n({target:{dataset:this.dataset}})},onClick:function(){var e=this.props.onClick;e&&e({target:{dataset:this.dataset}})}}})},function(e,t){$global.currentComponentConfig={is:\"pages/cart/child/product-card/index\",componentLifeCycleV2:\"YES\",usingComponents:{button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Component({props:{status:\"LOADING\",onChangeItemNumber(){},onChangeItemNumberInput(){}},didUpdate(){},methods:{onIncrease(){this.props.onChangeItemNumber(this.props.id,1,this.props.product.number)},onDecrease(){this.props.onChangeItemNumber(this.props.id,-1,this.props.product.number)},onInput(e){this.props.onChangeItemNumberInput(this.props.id,e.detail.value,this.props.product.number)}}})},function(e,t){$global.currentComponentConfig={is:\"../node_modules/@tiki.vn/tini-ui/es/badge/index\",componentLifeCycleV2:\"YES\"},Component({props:{className:\"\",overflowCount:99,text:\"\",dot:!1,withArrow:!1,direction:\"middle\",stroke:!1}})},function(e,t){$global.currentComponentConfig={is:\"../node_modules/@tiki.vn/tini-ui/es/tu-label/index\",componentLifeCycleV2:\"YES\",usingComponents:{badge:\"../node_modules/@tiki.vn/tini-ui/es/badge/index\",\"tu-icon\":\"../node_modules/@tiki.vn/tini-ui/es/tu-icon/index\"}},Component({props:{showBadge:!1,icon:\"\",iconColor:\"#808089\",helperText:\"\",disabled:!1,text:\"\"}})},function(e,t,n){\"use strict\";n.r(t);n(2);var a=n(1);$global.currentComponentConfig={is:\"pages/cart/child/coupon-input/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"bottom-sheet\":\"../node_modules/@tiki.vn/tini-ui/es/bottom-sheet/index\",textfield:\"../node_modules/@tiki.vn/tini-ui/es/textfield/index\",\"c-icon\":\"components/c-icon/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Component({props:{isShow:!1,onClose(){},onApplyCoupon(){}},data:{code:\"\"},onInit(){this.onInput=Object(a.b)(this.onInput,500)},methods:{onClose(){this.props.onClose()},onInput(e){this.setData({code:e.detail.value})},onApplyCoupon(){this.props.onApplyCoupon(this.data.code),this.props.onClose()}}})},function(e,t){$global.currentComponentConfig={is:\"components/address-card/index\",componentLifeCycleV2:\"YES\"},Component({props:{weight:\"regular\",status:\"LOADING\",iconLeft:\"store\",iconRight:\"\",title:\"\",subTitle:\"\",onSelect(){},onIconRightSelect(){}},data:{iconsList:{map:\"/assets/map_icon.png\",next:\"/assets/next_icon.png\",edit:\"/assets/edit_icon.png\",clock:\"/assets/clock_icon.png\",store:\"/assets/store_icon.png\",phone:\"/assets/phone_icon.png\",heart:\"/assets/heart_icon.png\",user_gray:\"/assets/user_gray.png\",clock_gray:\"/assets/clock_gray.png\",location:\"/assets/location_icon.png\",store_gray:\"/assets/store_icon_gray.png\",store_favorite:\"/assets/store_favorite.png\",location_blue:\"/assets/location_icon_blue.png\"}},onInit(){},didUpdate(){},methods:{onSelect(e){this.props.onSelect(e)},onIconRightSelect(){this.props.onIconRightSelect(this.props)}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(1),i=n(7),s=n(8),r=n(12);$global.currentPageConfig={pagePath:\"pages/cart/index\",usingComponents:{\"c-modal\":\"components/c-modal/index\",\"cart-action\":\"pages/cart/child/cart-action/index\",\"time-select\":\"pages/cart/child/time-select/index\",\"product-card\":\"pages/cart/child/product-card/index\",\"coupon-input\":\"pages/cart/child/coupon-input/index\",\"address-card\":\"components/address-card/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Object(a.b)({mapState:[e=>({cart:e.cart,buyer:e.buyer,store:e.store.defaultStore})],mapDispatch:{resetCart:r.e,getBuyerInfo:s.d,getAllStore:i.b,applyCoupon:r.b,resetCoupon:r.f,changeItemNumber:r.c,changePickupTime:r.d}})({data:{currentItem:\"\",status:\"LOADING\",currentModal:\"\",isShowTimeSelect:!1,isShowCouponInput:!1},async onLoad(e){my.setNavigationBar({title:\"Cart\"}),await this.getBuyerInfo(),await this.getAllStore(),this.onChangeItemNumberInput=Object(o.b)(this.onChangeItemNumberInput,100),this.setData({status:\"SUCCESS\"})},onBuyerAddressSelect(){Object(o.f)(\"address\")},onStoreAddressSelect(){Object(o.f)(\"store-select\")},onShowPaymentResultSelect(){this.setData({currentModal:\"paymet_result\"})},onPaymentSuccessSelect(){this.setData({currentModal:\"route_select\"})},onCloseModal(){this.setData({currentModal:\"\"})},onShoppingRouteSelect(){my.navigateBack({delta:2})},onOrderListRouteSelect(){this.resetCart(this.data.orderMethod),Object(o.h)(\"orders-list\")},onShowCouponInput(){this.setData({isShowCouponInput:!0})},onHideCouponInput(){this.setData({isShowCouponInput:!1})},onApplyCoupon(e){this.applyCoupon(this.data.orderMethod,e)},onResetCoupon(){this.resetCoupon(this.data.orderMethod)},onChangeItemNumber(e,t,n){t+n!==0?this.changeItemNumber(this.data.orderMethod,e,t+n):this.setData({showModal:!0,currentModal:\"remove_confirm\",currentItem:e})},onChangeItemNumberInput(e,t,n,a){let o=Number(t);o=o||1,o=o>99?99:o,this.changeItemNumber(this.data.orderMethod,e,o)},async onConfirmDelete(){this.changeItemNumber(this.data.orderMethod,this.data.currentItem,0),this.setData({showModal:!1,currentModal:\"\"}),1===this.data.cart.products.length&&(await Object(o.d)(200),my.navigateBack())},onCancelDelete(){this.setData({showModal:!1,currentModal:\"\"})},onChangeTimePickup(e,t){const[n,a]=e.split(\":\");this.changePickupTime({hour:n,min:a},t),this.setData({isShowTimeSelect:!1})},onHideTimeSelect(){this.setData({isShowTimeSelect:!1})},onShowTimeSelect(){this.setData({isShowTimeSelect:!0})}})},function(e,t){$global.currentComponentConfig={is:\"pages/profile/child/header/index\",componentLifeCycleV2:\"YES\"},Component({props:{type:\"FULL\"}})},function(e,t){$global.currentPageConfig={pagePath:\"pages/profile/index\",usingComponents:{header:\"pages/profile/child/header/index\",\"c-icon\":\"components/c-icon/index\"}},Page({data:{status:\"LOADING\",headerType:\"DEFAULT\"},loadData(){},onLoad(e){},onPageScroll(e){e.scrollTop>=50&&this.setData({...this.data,headerType:\"SCROLLED\"})},onPhoneCall(){my.makePhoneCall({number:\"0342909090\",success:e=>{},fail:e=>{}})}})},function(e,t,n){var a=function(e){\"use strict\";var t=Object.prototype,n=t.hasOwnProperty,a=\"function\"==typeof Symbol?Symbol:{},o=a.iterator||\"@@iterator\",i=a.asyncIterator||\"@@asyncIterator\",s=a.toStringTag||\"@@toStringTag\";function r(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{r({},\"\")}catch(e){r=function(e,t,n){return e[t]=n}}function c(e,t,n,a){var o=t&&t.prototype instanceof u?t:u,i=Object.create(o.prototype),s=new D(a||[]);return i._invoke=function(e,t,n){var a=\"suspendedStart\";return function(o,i){if(\"executing\"===a)throw new Error(\"Generator is already running\");if(\"completed\"===a){if(\"throw\"===o)throw i;return w()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var r=y(s,n);if(r){if(r===l)continue;return r}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(\"suspendedStart\"===a)throw a=\"completed\",n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);a=\"executing\";var c=d(e,t,n);if(\"normal\"===c.type){if(a=n.done?\"completed\":\"suspendedYield\",c.arg===l)continue;return{value:c.arg,done:n.done}}\"throw\"===c.type&&(a=\"completed\",n.method=\"throw\",n.arg=c.arg)}}}(e,n,s),i}function d(e,t,n){try{return{type:\"normal\",arg:e.call(t,n)}}catch(e){return{type:\"throw\",arg:e}}}e.wrap=c;var l={};function u(){}function p(){}function h(){}var m={};r(m,o,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(E([])));g&&g!==t&&n.call(g,o)&&(m=g);var b=h.prototype=u.prototype=Object.create(m);function v(e){[\"next\",\"throw\",\"return\"].forEach((function(t){r(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){var a;this._invoke=function(o,i){function s(){return new t((function(a,s){!function a(o,i,s,r){var c=d(e[o],e,i);if(\"throw\"!==c.type){var l=c.arg,u=l.value;return u&&\"object\"==typeof u&&n.call(u,\"__await\")?t.resolve(u.__await).then((function(e){a(\"next\",e,s,r)}),(function(e){a(\"throw\",e,s,r)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return a(\"throw\",e,s,r)}))}r(c.arg)}(o,i,a,s)}))}return a=a?a.then(s,s):s()}}function y(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,\"throw\"===t.method){if(e.iterator.return&&(t.method=\"return\",t.arg=void 0,y(e,t),\"throw\"===t.method))return l;t.method=\"throw\",t.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return l}var a=d(n,e.iterator,t.arg);if(\"throw\"===a.type)return t.method=\"throw\",t.arg=a.arg,t.delegate=null,l;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,\"return\"!==t.method&&(t.method=\"next\",t.arg=void 0),t.delegate=null,l):o:(t.method=\"throw\",t.arg=new TypeError(\"iterator result is not an object\"),t.delegate=null,l)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:w}}function w(){return{value:void 0,done:!0}}return p.prototype=h,r(b,\"constructor\",h),r(h,\"constructor\",p),p.displayName=r(h,s,\"GeneratorFunction\"),e.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===p||\"GeneratorFunction\"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,r(e,s,\"GeneratorFunction\")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(C.prototype),r(C.prototype,i,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,a,o,i){void 0===i&&(i=Promise);var s=new C(c(t,n,a,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},v(b),r(b,s,\"Generator\"),r(b,o,(function(){return this})),r(b,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=E,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)\"t\"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return s.type=\"throw\",s.arg=e,t.next=n,a&&(t.method=\"next\",t.arg=void 0),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if(\"root\"===i.tryLoc)return a(\"end\");if(i.tryLoc<=this.prev){var r=n.call(i,\"catchLoc\"),c=n.call(i,\"finallyLoc\");if(r&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(r){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,l):this.complete(s)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if(\"throw\"===a.type){var o=a.arg;_(n)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},\"next\"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=a}catch(e){\"object\"==typeof globalThis?globalThis.regeneratorRuntime=a:Function(\"r\",\"regeneratorRuntime = r\")(a)}},function(e,t,n){\"use strict\";n.r(t);var a=n(1);$global.currentComponentConfig={is:\"pages/delivery/child/buyer-address-card/index\",componentLifeCycleV2:\"YES\",usingComponents:{dropdown:\"../node_modules/@tiki.vn/tini-ui/es/dropdown/index\"}},Component({props:{},methods:{onTap(){Object(a.f)(\"address\")},onStoreSelect(){Object(a.f)(\"store-search\",{next:\"delivery\"})}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1);$global.currentComponentConfig={is:\"pages/delivery/child/store-address-card/index\",componentLifeCycleV2:\"YES\"},Component({methods:{onStoreSelect(){Object(a.f)(\"store-search\",{next:\"delivery\"})}}})},function(e,t){$global.currentComponentConfig={is:\"components/product-card/index\",componentLifeCycleV2:\"YES\"},Component({props:{product:{},onSelect(){},status:\"SUCCESS\"},methods:{onSelect(){this.props.product.available&&this.props.onSelect(this.props.product)}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2);$global.currentComponentConfig={is:\"pages/delivery/child/backtop-button/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"c-icon\":\"components/c-icon/index\"}},Object(a.a)({mapState:[e=>({cart:e.cart})]})({props:{onBackToTop(){}},methods:{_backToTop(){this.props.onBackToTop()}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),o=n(0);$global.currentComponentConfig={is:\"pages/orders-list/child/order-card/index\",componentLifeCycleV2:\"YES\"},Component({props:{status:\"LOADING\"},data:{badges:{[o.a.DELIVERY]:{[o.a.PREPARING]:{content:\"Preparing\",color:\"orange60\",bg:\"orange10\"},[o.a.DELIVERING]:{content:\"Delivering\",color:\"brand\",bg:\"blue10\"},[o.a.DELIVERED]:{content:\"Delivered\",color:\"green60\",bg:\"green10\"},[o.a.FAIL]:{content:\"Delivery failed\",color:\"red60\",bg:\"red10\"}},[o.a.STORE_PICKUP]:{[o.a.RECEIVED]:{content:\"Order received\",color:\"orange60\",bg:\"orange10\"},[o.a.COMPLETED]:{content:\"Order completed\",color:\"green60\",bg:\"green10\"},[o.a.READY]:{content:\"Ready for pickup\",color:\"brand\",bg:\"blue10\"}}}},didMount(){},methods:{onSelect(){Object(a.f)(\"order-detail\",{id:this.props.order._id})}}})},function(e,t){$global.currentComponentConfig={is:\"components/no-item/index\",componentLifeCycleV2:\"YES\"},Component({props:{top:0,type:\"order\",showButton:!0,onSelect(){}},data:{image:{order:\"/assets/no_order.png\",search:\"/assets/no_result.png\"},title:{order:\"You have no order\",search:\"Sorry, we nearly found it!\"},subTitle:{order:\"How about trying our new drinks?\",search:\"Please try again, better luck next time\"},btnContent:{order:\"Order now!\"}},methods:{onSelect(){this.props.onSelect()}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(5),o=n.n(a);function i(e){return e.reduce((function(e,t){var n;return o()({},e,((n={})[t]=function(e){if(this.props[t]instanceof Function)return this.props[t](e)},n))}),{})}$global.currentComponentConfig={is:\"../node_modules/@tiki.vn/tini-ui/es/search-bar/index\",componentLifeCycleV2:\"YES\",usingComponents:{textfield:\"../node_modules/@tiki.vn/tini-ui/es/textfield/index\"}},Component({props:{className:\"\",style:\"\",shape:\"\",placeholder:\"\",value:\"\",controlled:!1,hasError:!1,errorIconColor:\"#ff424f\"},data:{__value:\"\"},didMount:function(){this.onChangeValue(this.props.value)},deriveDataFromProps:function(e){this.onChangeValue(e.value)},methods:o()({},i([\"onFocus\",\"onBlur\",\"onConfirm\",\"onInput\",\"onTapSearchIcon\"]),{onChangeValue:function(e){this.data.__value!==e&&this.setData({__value:e})},onTapCloseIcon:function(e){try{this.setData({__value:\"\"});var t=i([\"onTapCloseIcon\"]).onTapCloseIcon.bind(this);t(e)}catch(e){console.error(e)}}})})},function(e,t){$global.currentComponentConfig={is:\"components/c-checkbox/index\",componentLifeCycleV2:\"YES\"},Component({props:{checked:!1}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1);$global.currentComponentConfig={is:\"pages/store-detail/child/order-methods/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"order-method\":\"components/order-method/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Component({props:{status:\"LOADING\"},data:{orderMethods:[{code:\"STORE_PICKUP\",title:\"Store pickup\",subTitle:\"Best quality\",image:\"/assets/deliver_1.png\"},{code:\"DELIVERY\",title:\"Delivery\",subTItle:\"Always on time\",image:\"/assets/deliver_2.png\"}]},methods:{onReservationSelect(){Object(a.f)(\"online-reservation\")}}})},function(e,t){$global.currentComponentConfig={is:\"components/c-navbar/index\",componentLifeCycleV2:!0,usingComponents:{\"c-icon\":\"components/c-icon/index\"}},Component({props:{title:\"\",titleColor:\"white\",bgColor:\"white\",isUseHolder:!0,btnColor:\"gray100\"},methods:{_onSelect(){my.navigateBack()}}})},function(e,t){$global.currentComponentConfig={is:\"components/detail-carousel/index\",componentLifeCycleV2:\"YES\"},Component({props:{items:[]},data:{current:1},onInit(){},methods:{onChange(e){const{current:t}=e.detail;this.setData({current:t+1})}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(7),i=n(1);$global.currentPageConfig={pagePath:\"pages/store-detail/index\",usingComponents:{\"order-methods\":\"pages/store-detail/child/order-methods/index\",\"address-card\":\"components/address-card/index\",\"c-navbar\":\"components/c-navbar/index\",\"detail-carousel\":\"components/detail-carousel/index\"}},Object(a.b)({mapState:[e=>({info:e.store.info})],mapDispatch:{getStoreById:o.c,toggleFavoriteStore:o.d}})({data:{status:\"LOADING\"},async onLoad(e){const t=Object(i.g)(e).id;await this.getStoreById(t),this.setData({status:\"SUCCESS\",id:t})},onShow(){my.hideBackHome({hide:!0})},onToggleFavorite(){this.toggleFavoriteStore(this.data.id,!this.data.info.data.favorite)},onPhoneCall(){my.makePhoneCall({number:this.data.info.data.phone,success:e=>{},fail:e=>{}})}})},function(e,t){$global.currentComponentConfig={is:\"pages/order-detail/child/product-card/index\",componentLifeCycleV2:\"YES\",usingComponents:{button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Component({props:{showLine:!1,status:\"LOADING\",onChangeItemNumber(){}},methods:{onIncrease(){this.props.onChangeItemNumber(this.props.id,1,this.props.product.number)},onDecrease(){this.props.onChangeItemNumber(this.props.id,-1,this.props.product.number)}}})},function(e,t){$global.currentComponentConfig={is:\"pages/order-detail/child/store-support/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"address-card\":\"components/address-card/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\",modal:\"../node_modules/@tiki.vn/tini-ui/es/modal/index\"}},Component({props:{onClose(){},store:{name:\"\",phone:\"\",address:\"\"}},methods:{onClose(){this.props.onClose()},onPhoneCall(){my.makePhoneCall({number:this.props.store.phone,success:e=>{},fail:e=>{}})}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(1),i=n(0),s=n(16);$global.currentPageConfig={pagePath:\"pages/order-detail/index\",usingComponents:{\"product-card\":\"pages/order-detail/child/product-card/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\",\"address-card\":\"components/address-card/index\",\"store-support\":\"pages/order-detail/child/store-support/index\",\"c-icon\":\"components/c-icon/index\"}},Object(a.b)({mapState:[e=>({info:e.order.info})],mapDispatch:{getOrderById:s.b}})({data:{status:i.a.LOADING,isShowModal:!1,statusTitle:{[i.a.DELIVERING]:\"Delivering\",[i.a.PREPARING]:\"Preparing\",[i.a.DELIVERED]:\"Delivered\",[i.a.FAIL]:\"Delivery failed\",[i.a.COMPLETED]:\"Order completed\",[i.a.RECEIVED]:\"Order received\",[i.a.READY]:\"Ready for pickup\"},bgList:{[i.a.DELIVERY]:{[i.a.DELIVERING]:\"/assets/bg_delivery_progress.png\",[i.a.PREPARING]:\"/assets/bg_delivery_prepare.png\",[i.a.DELIVERED]:\"/assets/bg_delivery_success.png\",[i.a.FAIL]:\"/assets/bg_delivery_fail.png\"},[i.a.STORE_PICKUP]:{[i.a.COMPLETED]:\"/assets/bg_store_pickup_completed.png\",[i.a.RECEIVED]:\"/assets/bg_store_pickup_received.png\",[i.a.READY]:\"/assets/bg_store_pickup_ready.png\"}}},async onLoad(e){const t=Object(o.g)(e).id;my.setNavigationBar({title:\"Order \"+t}),await this.getOrderById(t),this.setData({status:i.a.SUCCESS})},onShowModal(){this.setData({isShowModal:!0})},onHideModal(){this.setData({isShowModal:!1})}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(7),i=n(1);$global.currentPageConfig={pagePath:\"pages/store-select/index\",usingComponents:{\"c-icon\":\"components/c-icon/index\",\"stores-list\":\"components/stores-list/index\",textfield:\"../node_modules/@tiki.vn/tini-ui/es/textfield/index\"}},Object(a.b)({mapState:[e=>({stores:e.store.list})],mapDispatch:{getAllStore:o.b,changeDefaultStore:o.a}})({data:{status:\"LOADING\"},async onLoad(e){my.setNavigationBar({title:\"Select store\"}),\"LOADING\"===this.data.stores.status&&await this.getAllStore(),this.setData({status:\"SUCCESS\"})},onStoreSelect(e){this.changeDefaultStore(e.target.dataset.id),my.navigateBack()},onInputFocus(){Object(i.f)(\"store-search\",{next:\"delivery\"})}})},function(e,t){$global.currentPageConfig={pagePath:\"pages/web-view-page/index\"},Page({onLoad(e){},onReady(){},onShow(){},onHide(){},onUnload(){}})},function(e,t){$global.currentComponentConfig={is:\"components/up-down-number/index\",componentLifeCycleV2:\"YES\",usingComponents:{button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Component({props:{min:0,max:999,value:0,step:1,isAllowInput:!1,onChange(){}},methods:{onIncrease(){const{value:e,step:t,max:n}=this.props,a=e+t>n?n:e+t;this.props.onChange(a)},onDecrease(){const{value:e,step:t,min:n}=this.props,a=e-t<n?n:e-t;this.props.onChange(a)},onChange(e){const{max:t,min:n}=this.props;let a=Number(e.detail.value)||this.props.min;a=a<n?n:a,a=a>t?t:a,this.props.onChange(a)}}})},function(e,t){$global.currentComponentConfig={is:\"pages/product-detail/child/add-to-cart/index\",componentLifeCycleV2:\"YES\",usingComponents:{button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\",\"up-down-number\":\"components/up-down-number/index\"}},Component({props:{number:0,paddingStatus:\"\",onChangeNumber(){}},methods:{onIncrease(){this.props.onChangeNumber(1)},onDecrease(){this.props.onChangeNumber(-1)},onChangeNumber(e){this.props.onChangeNumber(e)},onAddCart(){this.props.onAddCart()}}})},function(e,t){$global.currentComponentConfig={is:\"components/c-radio/index\",componentLifeCycleV2:\"YES\"},Component({props:{checked:!1}})},function(e,t){$global.currentComponentConfig={is:\"pages/product-detail/child/attribute-card/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"c-radio\":\"components/c-radio/index\",\"c-checkbox\":\"components/c-checkbox/index\"}},Component({props:{value:{},attributeId:\"\",status:\"LOADING\",isMultipleChoice:!1},onInit(){},didUpdate(e,t){},methods:{onSelect(){this.props.onSelectAttribute(this.props.attributeId,this.props.value._id)}}})},function(e,t){$global.currentComponentConfig={is:\"pages/product-detail/child/attribute-select/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"attribute-card\":\"pages/product-detail/child/attribute-card/index\"}},Component({props:{status:\"LOADING\",attribute:{},selectedValues:[]},methods:{onSelectAttribute(e,t){this.props.onSelectAttribute(e,t)}}})},function(e,t){$global.currentComponentConfig={is:\"pages/product-detail/child/attributes-list/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"attribute-select\":\"pages/product-detail/child/attribute-select/index\"}},Component({props:{},onInit(){},methods:{onSelectAttribute(e,t){this.props.onSelectAttribute(e,t)}}})},function(e,t){$global.currentComponentConfig={is:\"pages/product-detail/child/product-main-info/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"detail-carousel\":\"components/detail-carousel/index\"}},Component({props:{info:{},onToggleFavorite(){}},onInit(){},methods:{onToggleFavorite(){this.props.onToggleFavorite()}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1);$global.currentComponentConfig={is:\"pages/reservations/child/reserve-button/index\",componentLifeCycleV2:!0},Component({methods:{onReserve(){Object(a.f)(\"online-reservation\")}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1);$global.currentComponentConfig={is:\"pages/reservations/child/reserve-card/index\",componentLifeCycleV2:!0,usingComponents:{\"address-card\":\"components/address-card/index\",\"tu-button\":\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\",\"c-modal\":\"components/c-modal/index\"}},Component({props:{isLoading:!1,isShowModal:!1,reserve:null,onSelect:()=>{},onCancelBooking:()=>{},onHideModal(){},onConfirmCancelBooking(){}},methods:{onSelect(){const{onSelect:e,reserve:t}=this.props;e(t)},async onConfirmCancel(){const{onConfirmCancelBooking:e,reserve:t}=this.props;this.setData({isShowModal:!1}),await Object(a.d)(200),e(t)},onCancel(){this.props.onCancelBooking(),this.setData({isShowModal:!0})},onCloseModal(){this.props.onHideModal(),this.setData({isShowModal:!1})},onMaskClick(){this.props.onHideModal(),this.setData({isShowModal:!1})},onPhoneCall(){my.makePhoneCall({number:this.props.reserve.store.phone})}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),o=n(2),i=n(10);$global.currentPageConfig={pagePath:\"pages/reservations/index\",usingComponents:{\"reserve-button\":\"pages/reservations/child/reserve-button/index\",\"reserve-card\":\"pages/reservations/child/reserve-card/index\"}},Object(o.b)({mapState:[e=>({list:e.reservation.list})],mapDispatch:{getReservations:i.d,cancelBooking:i.b}})({data:{hideModalTime:0,isLoading:!0,isShowModal:!1},onMoveReserveDetail(e){if((new Date).getTime()-this.data.hideModalTime<500)return;const t=e._id;Object(a.f)(\"reservation-detail\",{id:t})},onCancelBooking(){this.setData({isShowModal:!0})},onHideModal(){this.setData({isShowModal:!1,hideModalTime:(new Date).getTime()})},async onConfirlCancelBooking(e){await this.cancelBooking(e),this.setData({isShowModal:!1,hideModalTime:(new Date).getTime(),reservations:this.data.list.data})},async onLoad(e){\"LOADING\"===this.data.list.status&&await this.getReservations();const t=this.data.list.data;this.setData({reservations:t,isLoading:!1})},onShow(){this.unsubcribe=Object(o.d)(e=>{const{data:t}=e.reservation.list,n=t.sort((function(e,t){const n=e.date.split(\"/\").reverse().join(\"\"),a=t.date.split(\"/\").reverse().join(\"\");return n>a?-1:n<a?1:e.time.localeCompare(t.time)}));this.setData({reservations:n})})},onUnload(){this.unsubcribe()}})},function(e,t){$global.currentComponentConfig={is:\"pages/reservation-detail/child/reservation-info/index\",componentLifeCycleV2:!0},Component({props:{reserve:{},onPhoneCall:()=>{}},data:{imageList:{reserved:\"/assets/rs_reserved.png\",past:\"/assets/rs_past.png\",canceled:\"/assets/rs_canceled.png\"}},methods:{onContactSupport(){const{reserve:e,onPhoneCall:t}=this.props;t(e.store.phone)}}})},function(e,t){$global.currentComponentConfig={is:\"pages/reservation-detail/child/table-info/index\",componentLifeCycleV2:!0,usingComponents:{\"address-card\":\"components/address-card/index\"}},Component({props:{info:{}}})},function(e,t){$global.currentComponentConfig={is:\"pages/reservation-detail/child/contact-info/index\",componentLifeCycleV2:!0},Component({props:{status:{},contact:{},smsReminder:{}}})},function(e,t){$global.currentComponentConfig={is:\"pages/reservation-detail/child/notes/index\",componentLifeCycleV2:!0},Component({props:{notes:{}}})},function(e,t){$global.currentComponentConfig={is:\"pages/reservation-detail/child/cancel-booking/index\",componentLifeCycleV2:!0,usingComponents:{button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Component({props:{onCancel:()=>{}},methods:{onCancelBooking(){this.props.onCancel()}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),o=n(2),i=n(10);$global.currentPageConfig={pagePath:\"pages/reservation-detail/index\",usingComponents:{\"reservation-info\":\"pages/reservation-detail/child/reservation-info/index\",\"table-info\":\"pages/reservation-detail/child/table-info/index\",\"contact-info\":\"pages/reservation-detail/child/contact-info/index\",notes:\"pages/reservation-detail/child/notes/index\",\"cancel-booking\":\"pages/reservation-detail/child/cancel-booking/index\",\"c-modal\":\"components/c-modal/index\"}},Object(o.b)({mapState:[e=>({info:e.reservation.info})],mapDispatch:{getReservationDetail:i.c,cancelBooking:i.b}})({data:{isLoading:!0,hideModalTime:0,isShowModal:!1},async onConfirmCancel(){this.cancelBooking(this.data.info.data),this.setData({isShowModal:!1}),await Object(a.d)(200),my.navigateBack()},onCancel(){this.setData({isShowModal:!0})},onCloseModal(){this.setData({isShowModal:!1,hideModalTime:(new Date).getTime()})},onMaskClick(){this.setData({isShowModal:!1,hideModalTime:(new Date).getTime()})},onPhoneCall(e){(new Date).getTime()-this.data.hideModalTime<500||my.makePhoneCall({number:e})},async onLoad(e){const{id:t}=Object(a.g)(e);await this.getReservationDetail(t);const n=this.data.info.data;this.setData({reserve:n,isLoading:!1})},onReady(){my.hideBackHome({hide:!1})}})},function(e,t){$global.currentComponentConfig={is:\"pages/online-reservation/child/date-select/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"bottom-sheet\":\"../node_modules/@tiki.vn/tini-ui/es/bottom-sheet/index\",calendar:\"../node_modules/@tiki.vn/tini-ui/es/calendar/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Component({props:{onClose(){},onDateSelect(){},defaultDate:\"\"},data:{date:0},methods:{onClose(){this.props.onClose()},onDateSelect(e){this.setData({date:e.dates[0]})},onConfirm(){const{date:e}=this.data,{defaultDate:t}=this.props;this.props.onDateSelect(e||t)}}})},function(e,t){$global.currentComponentConfig={is:\"pages/online-reservation/child/number-people-select/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"bottom-sheet\":\"../node_modules/@tiki.vn/tini-ui/es/bottom-sheet/index\",calendar:\"../node_modules/@tiki.vn/tini-ui/es/calendar/index\",\"c-radio\":\"components/c-radio/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Component({data:{onClose(){},onNumberPeopleSelect(){},current:{_id:1,label:\"1 people\",value:1,available:!0},options:Array(30).fill(0).map((e,t)=>({_id:t+1,label:t+1+\" people\",available:!0}))},onInit(){},methods:{onSelect(e){e.target.dataset.value.available&&this.setData({current:e.target.dataset.value})},onClose(){this.props.onClose()},onConfirm(){this.props.onNumberPeopleSelect(this.data.current._id)}}})},function(e,t){$global.currentComponentConfig={is:\"pages/online-reservation/child/compact-variant/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"address-card\":\"components/address-card/index\",textfield:\"../node_modules/@tiki.vn/tini-ui/es/textfield/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\",calendar:\"../node_modules/@tiki.vn/tini-ui/es/calendar/index\",\"c-icon\":\"components/c-icon/index\",\"date-select\":\"pages/online-reservation/child/date-select/index\",\"number-people-select\":\"pages/online-reservation/child/number-people-select/index\"}},Component({props:{onNumberPeopleSelect(){},onTimeSelect(){},onDateSelect(){},onStoreSelect(){},onReserve(){},store:{},selected:{},timeList:[]},data:{isShowDateSelect:!1,isShowNumberPeopleSelect:!1},methods:{onShowDateSelectSheet(){this.setData({isShowDateSelect:!0})},onCloseDateSelectSheet(){this.setData({isShowDateSelect:!1})},onShowNumberPeopleSelect(){this.setData({isShowNumberPeopleSelect:!0})},onCloseNumberPeopleSelect(){this.setData({isShowNumberPeopleSelect:!1})},onDateSelect(e){this.props.onDateSelect(e),this.setData({isShowDateSelect:!1})},onNumberPeopleSelect(e){this.props.onNumberPeopleSelect(e),this.setData({isShowNumberPeopleSelect:!1})},onTimeSelect(e){this.props.onTimeSelect(e)},onStoreSelect(){this.props.onStoreSelect()},onReserve(){this.props.onReserve()}}})},function(e,t){$global.currentComponentConfig={is:\"pages/reservation-review/child/time-out-modal/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"address-card\":\"components/address-card/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\",modal:\"../node_modules/@tiki.vn/tini-ui/es/modal/index\"}},Component({props:{onClose(){},store:{name:\"\",phone:\"\",address:\"\"}},methods:{onClose(){this.props.onClose()},onPhoneCall(){my.makePhoneCall({number:this.props.store.phone,success:e=>{},fail:e=>{}})}}})},function(e,t){$global.currentComponentConfig={is:\"pages/reservation-review/child/contact-info/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"c-checkbox\":\"components/c-checkbox/index\",textfield:\"../node_modules/@tiki.vn/tini-ui/es/textfield/index\"}},Component({props:{contact:{},errMsg:{},smsReminder:!1,onInput(){},onHidePadding(){},onShowPadding(){},onToggleSMSRemider(){}},methods:{_onInput(e){this.props.onInput(e)},_onHidePadding(){this.props.onHidePadding()},_onShowPadding(){this.props.onShowPadding()},_onToggleSMSRemider(){this.props.onToggleSMSRemider()}}})},function(e,t){$global.currentComponentConfig={is:\"pages/reservation-review/child/booking-info/index\",componentLifeCycleV2:\"YES\",usingComponents:{timer:\"components/timer/index\",\"address-card\":\"components/address-card/index\"}},Component({props:{timer:0,info:{}}})},function(e,t){$global.currentComponentConfig={is:\"pages/reservation-review/child/note-info/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"up-down-number\":\"components/up-down-number/index\"}},Component({props:{area:\"\",areaList:[],childrenNumber:0,elderlyPeopleNumber:0,onNumberPeopleChange(){},onShowPadding(){},onHidePadding(){},onAreaSelect(){},onNoteInput(){}},methods:{_onShowPadding(){this.props.onHidePadding()},_onShowPadding(){this.props.onShowPadding()},_onChangeElderlyPeopleNumber(e){this.props.onNumberPeopleChange(\"elderlyPeopleNumber\",e)},_onChangeChildrenNumber(e){this.props.onNumberPeopleChange(\"childrenNumber\",e)},_onAreaSelect(e){this.props.onAreaSelect(e)},_onNoteInput(e){this.props.onNoteInput(e)}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e){return\"Minified Redux error #\"+e+\"; visit https://redux.js.org/Errors?code=\"+e+\" for the full message or use the non-minified dev environment for full errors. \"}var c=\"function\"==typeof Symbol&&Symbol.observable||\"@@observable\",d=function(){return Math.random().toString(36).substring(7).split(\"\").join(\".\")},l={INIT:\"@@redux/INIT\"+d(),REPLACE:\"@@redux/REPLACE\"+d(),PROBE_UNKNOWN_ACTION:function(){return\"@@redux/PROBE_UNKNOWN_ACTION\"+d()}};function u(e){if(\"object\"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function h(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(o){return\"function\"==typeof o?o(n,a,e):t(o)}}}}var m=h();m.withExtraArgument=h;var f=m,g=n(0);const b={token:null};var v=n(1);const C={total:0,buyer:{},products:[],shippingFee:15e3,orderMethod:g.a.DELIVERY,products:[],shippingFee:15e3,coupon:{status:g.a.NONE,value:0},time:{hour:\"00\",min:\"00\"},date:\"Today\"};function y(e,{orderMethod:t,status:n,value:a,code:o}){let i=Object(v.a)(e);return i.coupon={status:n,value:a,code:o},i}const S={list:{status:g.a.LOADING,data:[]},info:{status:g.a.LOADING,data:{}}};const _={addressList:[],status:g.a.LOADING,defaultAddress:{}};const D={defaultStore:null,info:{data:{},status:g.a.LOADING},list:{data:[],status:g.a.LOADING}};var E=n(4);const w={info:{data:{},status:g.a.LOADING},list:{data:[],status:g.a.LOADING}};const T={list:{data:[],status:g.a.LOADING}};const O={list:{status:g.a.LOADING,data:[]},info:{status:g.a.LOADING,data:{}}};const x=(e,{id:t})=>{const n=e.list.data.filter(e=>e._id===t)[0];let a=Object(v.a)(e);return a.info=n,a},L=(e,{data:t})=>{let n=Object(v.a)(e);const a={...t};return n.list.data.push(a),n},A=(e,{data:t})=>{const n=e.list.data.findIndex(e=>e._id===t._id);if(-1===n)return e;let a=Object(v.a)(e);return a.list.data[n].status=g.a.CANCELED,a};var I=function e(t,n,a){var o;if(\"function\"==typeof n&&\"function\"==typeof a||\"function\"==typeof a&&\"function\"==typeof arguments[3])throw new Error(r(0));if(\"function\"==typeof n&&void 0===a&&(a=n,n=void 0),void 0!==a){if(\"function\"!=typeof a)throw new Error(r(1));return a(e)(t,n)}if(\"function\"!=typeof t)throw new Error(r(2));var i=t,s=n,d=[],p=d,h=!1;function m(){p===d&&(p=d.slice())}function f(){if(h)throw new Error(r(3));return s}function g(e){if(\"function\"!=typeof e)throw new Error(r(4));if(h)throw new Error(r(5));var t=!0;return m(),p.push(e),function(){if(t){if(h)throw new Error(r(6));t=!1,m();var n=p.indexOf(e);p.splice(n,1),d=null}}}function b(e){if(!u(e))throw new Error(r(7));if(void 0===e.type)throw new Error(r(8));if(h)throw new Error(r(9));try{h=!0,s=i(s,e)}finally{h=!1}for(var t=d=p,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if(\"function\"!=typeof e)throw new Error(r(10));i=e,b({type:l.REPLACE})}function C(){var e,t=g;return(e={subscribe:function(e){if(\"object\"!=typeof e||null===e)throw new Error(r(11));function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[c]=function(){return this},e}return b({type:l.INIT}),(o={dispatch:b,subscribe:g,getState:f,replaceReducer:v})[c]=C,o}(function(e){for(var t=Object.keys(e),n={},a=0;a<t.length;a++){var o=t[a];0,\"function\"==typeof e[o]&&(n[o]=e[o])}var i,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:l.INIT}))throw new Error(r(12));if(void 0===n(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(r(13))}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var a=!1,o={},c=0;c<s.length;c++){var d=s[c],l=n[d],u=e[d],p=l(u,t);if(void 0===p){t&&t.type;throw new Error(r(14))}o[d]=p,a=a||p!==u}return(a=a||s.length!==Object.keys(e).length)?o:e}}({auth:function(e=b,t){switch(t.type){case g.a.GET_USER_TOKEN:case g.a.REFRESH_USER_TOKEN:return{...e,token:t.data};default:return e}},cart:function(e=C,t){switch(t.type){case g.a.ADD_CART:return function(e,t){let n=Object(v.a)(e);n.orderMethod!==t.orderMethod&&(n.products=[],n.total=0);if(n.orderMethod=t.orderMethod,n.total+=t.total,t.orderMethod===g.a.STORE_PICKUP){const{hour:e,min:t}=function(){const e=new Date;let t=e.getMinutes()+20,n=e.getHours()+Math.floor(t/60);n+=Math.floor(t/60),t%=60,t>30?(t=0,n++):t=30;return{hour:Object(v.e)(n,2),min:Object(v.e)(t,2)}}();n.time={hour:e,min:t},n.shippingFee=0}else n.shippingFee=15e3;const a=n.products.findIndex(e=>Object(v.c)(e,t,[\"number\",\"total\",\"_id\",\"orderMethod\"]));-1!==a?n.products[a].number+=t.number:n.products.push({...t,total:t.total/t.number,_id:\"id_\"+(new Date).getTime()});return n}(e,t.data);case g.a.CHANGE_ITEM_NUMBER_IN_CART:return function(e,t,n,a){const o=e.products.findIndex(e=>e._id===n);if(-1===o)return e;let i=Object(v.a)(e);const{total:s,number:r}=e.products[o];i.products[o].number=a,i.total+=s*a-s*r,0===i.products[o].number&&(i.products.splice(o,1),i.products.length||(i.coupon={status:g.a.NONE,value:0}));return i}(e,t.orderMethod,t._id,t.value);case g.a.APPLY_COUPON:case g.a.RESET_COUPON:return y(e,t);case g.a.CHANGE_TIME_PICKUP:return function(e,{time:t,date:n}){let a=Object(v.a)(e);return a.time=t,a.date=n,a}(e,t);case g.a.RESET_CART:return function(e,t){let n=Object(v.a)(e);return n=C,n}(e,t.orderMethod);default:return e}},store:function(e=D,t){switch(t.type){case g.a.GET_ALL_STORE:return{...e,list:{data:t.data,status:g.a.SUCCESS},defaultStore:t.data[0]};case g.a.GET_STORE_INFO:return function(e,{id:t}){const n=e.list.data.find(e=>e._id===t);return e.info={status:g.a.SUCCESS,data:n},e}(e,t);case g.a.CHANGE_DEFAULT_STORE:return function(e,t){const n=e.list.data.filter(e=>e._id===t)[0];return n?{...e,defaultStore:n}:e}(e,t.id);case g.a.TOGGLE_FAVORITE_STORE:return function(e,{id:t,favorite:n}){let a=Object(v.a)(e);a.info.data.favorite=n;const o=a.list.data.findIndex(e=>e._id===t);if(-1!==o){a.list.data[o].favorite=n;const e=a.list.data.splice(o,1);a.list.data.unshift(...e)}return a}(e,t);default:return e}},buyer:function(e=_,t){switch(t.type){case g.a.GET_BUYER_INFO:return function(e,{data:t}){return e.status===g.a.SUCCESS?e:{...t,status:g.a.SUCCESS}}(e,t);case g.a.CHANGE_DEFAULT_ADDRESS:return function(e,{id:t,data:n}){let a=Object(v.a)(e);if(t){const e=a.addressList.filter(e=>e._id===t)[0];if(!e)return a;a.defaultAddress=e}else a.defaultAddress=n;return a}(e,t);case g.a.ADD_ADDRESS:return function(e,{data:t}){let n=Object(v.a)(e);const a={...t,_id:\"_id\"+(new Date).getTime()};return n.defaultAddress=a,n.addressList.push(a),n}(e,t);case g.a.UPDATE_ADDRESS:return function(e,{data:t}){const n=e.addressList.findIndex(e=>e._id===t._id);if(-1===n)return e;let a=Object(v.a)(e);return a.addressList[n]=t,a.defaultAddress=t,a}(e,t);case g.a.DELETE_ADDRESS:return function(e,{id:t}){const n=e.addressList.findIndex(e=>e._id===t);if(-1===n)return e;let a=Object(v.a)(e);a.addressList.splice(n,1),a.addressList.length?a.defaultAddress._id===t&&(a.defaultAddress=a.addressList[0]):a.defaultAddress={};return a}(e,t);default:return e}},order:function(e=S,t){switch(t.type){case g.a.GET_ALL_ORDERS:return{...e,list:{status:g.a.SUCCESS,data:t.data}};case g.a.GET_ORDER_INFO:return{...e,info:{status:g.a.SUCCESS,data:t.data}};default:return e}},product:function(e=w,t){switch(t.type){case g.a.GET_PRODUCT_DETAIL:return function(e,{id:t}){e.list.data.length||(e.list.data=Object(E.c)(\"products\"));const n=e.list.data.find(e=>e._id===t);if(n)return{...e,info:{data:n,status:g.a.SUCCESS}};return{...e,info:{data:{},status:g.a.FAILURE}}}(e,t);case g.a.TOGGLE_FAVORITE_PRODUCT:return function(e,{id:t}){let n=Object(v.a)(e);const a=n.list.data.findIndex(e=>e._id===t);-1!==a&&(n.list.data[a].isFavorite=!n.list.data[a].isFavorite);return n.info={data:{...n.info.data,isFavorite:!e.info.data.isFavorite},status:g.a.SUCCESS},n}(e,t);case g.a.GET_ALL_PRODUCTS:return{...e,list:{status:g.a.SUCCESS,data:t.data}};default:return e}},category:function(e=T,t){switch(t.type){case g.a.GET_CATEGORIES_SUCCESS:return{...e,list:{data:t.data,status:g.a.SUCCESS}};default:return e}},reservation:function(e=O,t){switch(t.type){case g.a.BOOKING_TABLE:return L(e,t);case g.a.SELECT_TABLE:return{...e,info:{status:g.a.SUCCESS,data:t.data}};case g.a.GET_ALL_RESERVATIONS:return{...e,list:{status:g.a.SUCCESS,data:t.data}};case g.a.GET_RESERVATION_DETAIL:{const n=x(e,t);return{...e,info:{status:g.a.SUCCESS,data:n.info}}}case g.a.CANCEL_BOOKING:return A(e,t);default:return e}}}),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error(r(15))},o={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return a=p.apply(void 0,i)(n.dispatch),s(s({},n),{},{dispatch:a})}}}(f));Object(a.c)({component2:!0,store:I,namespace:\"\"}),App({onLaunch(e){},onShow(e){}})},function(e,t,n){\"use strict\";n.r(t);var a=n(5),o=n.n(a),i=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],s=function(e,t){void 0===t&&(t=[]);var n=e.index-e.firstDay,a=e.index%7,s=e.month-1,c=e.year;s<0&&(s=11,c--);var l=r(c,s),u=(n<0?l+n:n%e.numberOfDays)+1,p=n<0?-1:n>=e.numberOfDays?1:0,h=new Date(e.year,e.month,u).getTime(),m=t.find((function(t){var n=d(t.date,\"-\");if(!n)return!1;var a=n.date,o=n.month,i=n.year,s=0;switch(p){case-1:s=e.month>0?e.month:12;break;case 0:s=e.month+1;break;case 0:s=e.month<11?e.month+2:1}return a===u&&o===s&&i===e.year})),f={tagColor:\"#808089\",tagInactiveColor:\"rgba(166, 166, 176, 0.6)\"},g=m?o()({},f,m):f;return o()({},g,{date:u,day:a,inMonth:p,timestamp:h,dayString:i[a]})},r=function(e,t){return 40-new Date(e,t,40).getDate()},c=function(e,t,n){void 0===n&&(n=[]);for(var a=new Date(e,t).getDay(),o=r(e,t),i=[],c=null,d=0,l=0;l<5;l++)for(var u=0;u<7;u++)c=s({index:d,numberOfDays:o,firstDay:a,year:e,month:t},n),i.push(c),d++;var p=i[34].date,h=p>=28?o-p:-1;if(h>0)for(var m=0;m<h;m++)c=s({index:d,numberOfDays:o,firstDay:a,year:e,month:t},n),i.push(c),d++;return i},d=function(e,t){void 0===t&&(t=\"/\");var n=e.split(t).map((function(e){return parseInt(e,10)}));return n.length<3?null:{year:n[2],month:n[1],date:n[0]}},l={days:[\"CN\",\"T2\",\"T3\",\"T4\",\"T5\",\"T6\",\"T7\"],months:[\"Tháng 1\",\"Tháng 2\",\"Tháng 3\",\"Tháng 4\",\"Tháng 5\",\"Tháng 6\",\"Tháng 7\",\"Tháng 8\",\"Tháng 9\",\"Tháng 10\",\"Tháng 11\",\"Tháng 12\"],list:{loadMore:\"Xem thêm\",loadOver:\"-- Không còn dữ liệu để hiển thị --\"}},u={days:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],list:{loadMore:\"See more...\",loadOver:\"-- This is the end. --\"}};function p(e){return void 0===e&&(e=\"vi\"),\"vi\"===e?l:u}$global.currentComponentConfig={is:\"../node_modules/@tiki.vn/tini-ui/es/calendar/index\",componentLifeCycleV2:\"YES\"};var h=new Date,m=h.getTime(),f=h.getFullYear(),g=h.getMonth();Component({data:{days:[],monthMap:[],colorMap:[\"#808089\",\"#1A94FF\"],monthStr:\"\",year:f,month:g,todayTimestamp:m,selectedDate:[],monthDetails:[]},props:{style:\"\",className:\"\",locale:\"vi\",tagData:[],mode:\"timeOnly\",header:\"month\",selectedDate:[],iconColor:\"#1A94FF\",disabledPastDays:!1,showOnlyInMonth:!1,onSelect:function(){},onChange:function(){}},methods:{_onSelect:function(e){var t=e.target.dataset.item,n=this.props.mode;\"timeOnly\"!==n&&(\"single\"===n&&this.onSelectSingleDate(t),\"range\"===n&&this.onSelectRangeDate(t))},onSelectSingleDate:function(e){this.setData({selectedDate:[e.timestamp]}),this.props.onSelect({dates:[e.timestamp]})},onSelectRangeDate:function(e){var t=this.data.selectedDate,n=[];if(0===t.length&&(n=[e.timestamp]),1===t.length&&(n=[Math.min(e.timestamp,t[0]),Math.max(e.timestamp,t[0])]),2===t.length)switch(function(e,t){void 0===e&&(e=0),void 0===t&&(t=[1,3]);var n=t[0],a=t[1];return e<n?-1:e>=a?1:0}(e.timestamp,t)){case-1:n=[e.timestamp,t[1]];break;case 1:n=[t[1],e.timestamp];break;case 0:n=[t[0],e.timestamp]}this.setData({selectedDate:n}),this.props.onSelect({dates:n})},getMonthStr:function(e,t){return t[e]||\"Month\"},setYear:function(e){var t=e.target.dataset.offset,n=this.data.year+t,a=this.data.month;this.setData({year:n,monthDetails:c(n,a,this.props.tagData)});var o={dates:[].concat(this.data.selectedDate),year:n,month:a+1};this.props.onChange(o)},setMonth:function(e){var t=e.target.dataset.offset,n=p(this.props.locale),a=this.data.year,o=this.data.month+t;-1===o?(o=11,a--):12===o&&(o=0,a++);var i=this.getMonthStr(o,n.months);this.setData({year:a,month:o,monthDetails:c(a,o,this.props.tagData),monthStr:i});var s={dates:[].concat(this.data.selectedDate),year:a,month:o+1};this.props.onChange(s)},initDataCalender:function(e){var t=e.selectedDate,n=e.tagData,a=p(e.locale),i=this.getMonthStr(g,a.months),s={days:a.days,monthMap:a.months,monthDetails:c(f,g,n),monthStr:i},r=s;if(t[0]){var d=new Date(t[0]),l=d.getFullYear(),u=d.getMonth(),h=this.getMonthStr(u,a.months);r=o()({},s,{selectedDate:t,year:l,month:u,monthDetails:c(l,u,n),monthStr:h})}this.setData(r)}},didMount:function(){this.initDataCalender(this.props)},deriveDataFromProps:function(e){JSON.stringify(this.props)!==JSON.stringify(e)&&this.initDataCalender(e)}})},function(e,t,n){\"use strict\";n.r(t);var a=n(6),o=n.n(a),i=n(3),s=n.n(i),r=n(9);function c(e,t){var n;return void 0===t&&(t=200),function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n&&clearTimeout(n),new Promise((function(a){n=setTimeout((function(){var t=e.apply(void 0,o);a(t)}),t)}))}}function d(e){return(\"\"+e).normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g,\"\").replace(/đ/g,\"d\").replace(/Đ/g,\"D\")}$global.currentComponentConfig={is:\"../node_modules/@tiki.vn/tini-ui/es/dropdown/index\",componentLifeCycleV2:\"YES\",usingComponents:{textfield:\"../node_modules/@tiki.vn/tini-ui/es/textfield/index\",\"bottom-sheet\":\"../node_modules/@tiki.vn/tini-ui/es/bottom-sheet/index\",\"tu-label\":\"../node_modules/@tiki.vn/tini-ui/es/tu-label/index\",\"tu-button\":\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}};Component({props:{placeholder:\"\",disabled:!1,shape:\"rounded\",loading:!1,inputCls:\"\",className:\"\",items:[],labelKey:\"name\",idKey:\"id\",showSearch:!1,searchPlaceholder:\"Tìm kiếm\",labelText:\"\",closeAfterSelect:!0,useBottomSheet:!0,showCheck:!0,bottomSheetHeight:null,bottomSheetTitle:\"Dropdown\",bottomSheetButton:\"Chọn\",bottomSheetDistanceFromTop:100,maskClose:!0,multiple:!1,onSelect:function(){}},data:{searchItems:[],searchText:\"\",label:\"\",showBottomSheet:!1,localValue:null,isTextFieldFocusing:!1},didUpdate:function(e){var t=this.props,n=t.onSearch,a=t.items,o=this.data.searchText;n&&JSON.stringify(a)!==JSON.stringify(e.items)?this.setData({searchItems:a}):e.items.length!==a.length&&(o?this.onSearch(o):this.setData({searchItems:a}))},deriveDataFromProps:function(e){var t,n,a=e.value,o=e.labelKey,i=e.items,s=e.idKey,c=e.multiple,d=this.data,l=d.localValue,u=d.label,p=u;c?p=(a||[]).map((function(e){return\"object\"==typeof e?e[o]:e})).join(\", \"):p=a&&\"object\"==typeof a?null!=(t=a[o])?t:null==(n=i.find((function(e){return e[s]===a[s]})))?void 0:n[o]:a;p!==u&&this.setData({label:p}),Object(r.a)(a)&&JSON.stringify(a)!==JSON.stringify(l)&&this.setData({localValue:a})},didMount:function(){var e=this;return o()(s.a.mark((function t(){var n,a,o,i,r,d,l,u,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.onSearch=c(e.onSearch.bind(e)),n=e.props,a=n.items,o=n.value,i=n.multiple,r=n.bottomSheetHeight,d=n.bottomSheetDistanceFromTop,l=n.showSearch,u={searchItems:a,localValue:o||(i?[]:\"\")},t.next=5,new Promise((function(e){my.getSystemInfo({success:function(t){e(t)}})}));case 5:p=t.sent,r?(u.bottomSheetContainerHeight=r,u.bottomSheetScrollViewHeight=r-(l?60:0)-(i?100:0)-40):(u.bottomSheetContainerHeight=p.windowHeight-d,u.bottomSheetScrollViewHeight=u.bottomSheetContainerHeight-(l?60:0)-(i?100:0)-40),e.setData(u);case 8:case\"end\":return t.stop()}}),t)})))()},methods:{onSearch:function(e){var t=this.props,n=t.items,a=t.labelKey,o=n.filter((function(t){return function(e,t){if(!Object(r.a)(e)||!Object(r.a)(t))return!0;var n=d(e).toLowerCase(),a=d(t).toLowerCase();return n.includes(a)}(\"object\"==typeof t?t[a]:t,e)}));this.setData({searchItems:o})},onChangeSearchText:function(e){var t=this.props.onSearch,n=e.detail.value;t?t(n):(this.setData({searchText:n}),this.onSearch(n))},onTap:function(e){var t=this.props,n=t.disabled,a=t.onTap,o=t.useBottomSheet;n||(o&&this.setData({showBottomSheet:!0}),a&&a(e))},onClose:function(){var e=this,t=this.props,n=t.multiple,a=t.onHideDropdown;n?this.hideBottomSheet((function(){e.setData({localValue:e.props.value||[]})})):this.hideBottomSheet(),a&&a()},hideBottomSheet:function(e){void 0===e&&(e=function(){}),this.setData({showBottomSheet:!1,searchText:\"\",searchItems:this.props.items},e)},onSelect:function(e){var t=this,n=this.props,a=n.multiple,o=n.value,i=n.idKey,s=n.closeAfterSelect,r=n.onSelect,c=this.data.localValue,d=e.target.dataset.item;if(a){var l=c.findIndex((function(e){return\"object\"==typeof d?e[i]===d[i]:e===d}));this.setData({localValue:l>-1?c.filter((function(e,t){return t!==l})):[].concat(c,[d])})}else(!o||d!==o||\"object\"==typeof d&&d[i]!==o[i])&&this.setData({localValue:d},(function(){r(d),s&&t.hideBottomSheet()}))},onSelectMultiple:function(){this.props.onSelect(this.data.localValue),this.hideBottomSheet()},onTextFieldFocus:function(){this.setData({isTextFieldFocusing:!0})},onTextFieldBlur:function(){this.setData({isTextFieldFocusing:!1})}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1);function o(e){let t=[],n=7;const o=new Date,i=o.getHours(),s=o.getMinutes();if(function(e){const t=new Date(e);return(new Date).setHours(0,0,0,0)===t.setHours(0,0,0,0)}(e)&&i>=7){let e=i-0,o=s-0;o+=20,o>=60&&(o%=60,i++),o<30&&t.push(Object(a.e)(e,2)+\":30\"),n=e+1}for(let e=n;e<24;e++)t.push(Object(a.e)(e,2)+\":00\"),t.push(Object(a.e)(e,2)+\":30\");return t}$global.currentComponentConfig={is:\"pages/cart/child/time-select/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"bottom-sheet\":\"../node_modules/@tiki.vn/tini-ui/es/bottom-sheet/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Component({props:{base:\"\",isShow:!1,onTimeSelect(){},onCLose(){}},data:{baseTime:\"\",time:[],date:[],selectedDateIndex:0,selectedTimeIndex:0,selectedDate:\"Today\",selectedTime:\"\"},onInit(){const e=function(){let e=[],t=new Date;e.push({content:\"Today\",value:t.getTime()}),t.setDate(t.getDate()+1),e.push({content:\"Tomorrow\",value:t.getTime()}),t.setDate(t.getDate()+1);const n=Object(a.e)(t.getDate(),2),o=Object(a.e)(t.getMonth()+1,2),i=t.getFullYear();return e.push({content:`${n}/${o}/${i}`,value:t.getTime()}),e}(),t=o(e[0].value,this.props.base);this.setData({time:t,date:e,baseTime:this.props.base,selectedTime:this.props.base.hour+\":\"+this.props.base.min})},deriveDataFromProps({isShow:e}){const{isShow:t}=this.props;if(e&&!t){const e=o((new Date).getTime(),this.props.base);this.setData({time:e,selectedDateIndex:0,selectedTimeIndex:0})}},methods:{onTimeChange(e){const[t,n]=e.detail.value,{value:a}=this.data.date[t],{baseTime:i}=this.data,s=o(a);this.setData({time:s,selectedDateIndex:t,selectedTimeIndex:n})},onTimeSelect(){const{time:e,date:t,selectedTimeIndex:n,selectedDateIndex:a}=this.data;this.props.onTimeSelect(e[n],t[a].content)},onClose(){this.props.onClose()}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(4),i=n(0),s=n(1),r=n(7),c=n(8);async function d(e){const t=[];for(let n=0;n<e.length;n++){const{_id:a}=e[n],o=await new Promise(e=>{my.createSelectorQuery().select(\"#__\"+a).boundingClientRect().scrollOffset().exec(t=>{e(t)})});t[\"_\"+a]=o[0].top}return t}$global.currentPageConfig={pagePath:\"pages/delivery/index\",usingComponents:{\"buyer-address-card\":\"pages/delivery/child/buyer-address-card/index\",\"store-address-card\":\"pages/delivery/child/store-address-card/index\",\"product-card\":\"components/product-card/index\",\"c-icon\":\"components/c-icon/index\",\"sticky-bottom\":\"components/sticky-bottom/index\",\"backtop-button\":\"pages/delivery/child/backtop-button/index\"}},Object(a.b)({mapState:[e=>({categories:e.category.list,buyer:e.buyer,store:e.store.defaultStore,cart:e.cart})],mapDispatch:{getAllCategories:()=>async e=>{const t=await Object(o.a)(\"categories\");e({type:i.a.GET_CATEGORIES_SUCCESS,data:t})},getBuyerInfo:c.d,getAllStore:r.b}})({data:{topHeight:0,currentPos:0,pList:null,currentTag:\"\",orderMethod:\"\",status:i.a.LOADING,holderStatus:\"none\"},async onLoad(e){let t=\"Store pickup\";const n=Object(s.g)(e).method;n===i.a.DELIVERY&&(t=\"Delivery\"),my.setNavigationBar({title:t}),n===i.a.DELIVERY&&this.data.buyer.status===i.a.LOADING&&await this.getBuyerInfo(),this.data.store||await this.getAllStore();const a=await Object(o.a)(\"categories\");if(this.setData({categories:a,status:i.a.SUCCESS,orderMethod:n}),my.addIconsToNavigationBar({icons:[{image:\"/assets/search_icon.png\",width:24,height:24}],padding:10}),!this.data.pList){const e=await d(this.data.categories);this.setData({pList:e})}},onShow(){const e=getCurrentPages(),t=e[e.length-1].route;t&&\"pages/delivery/index\"!==t&&Object(s.h)(\"delivery\",{method:this.data.orderMethod})},async onTagClick(e){if(!this.data.pList){const e=await d(this.data.categories);this.setData({pList:e})}const{id:t}=e.target,[n]=await new Promise(e=>{my.createSelectorQuery().selectViewport().select(\"#\"+t).boundingClientRect().scrollOffset().exec(t=>{e([t[0].top])})});this.setData({...this.data,currentPos:this.data.pList[t]-n,holderStatus:\"active\",currentTag:t.replace(\"_\",\"\")}),setTimeout(()=>{this.setData({...this.data,holderStatus:\"none\"})},500)},async backToTop(){await this.onTagClick({target:{id:\"_\"+this.data.categories[0]._id}})},onProductClick(e){const{_id:t,name:n}=e;Object(s.f)(\"product-detail\",{method:this.data.orderMethod,id:t,name:n})},onCustomIconEvent(e){Object(s.f)(\"product-search\",{method:this.data.orderMethod})}})},function(e,t,n){\"use strict\";n.r(t);var a=n(5),o=n.n(a),i=n(6),s=n.n(i),r=n(3),c=n.n(r),d=n(9),l=function(){function e(e){this.appId=\"\",this.userAgent=\"TikiNative\",this.headers={};var t=e||{},n=t.appId,a=t.userAgent;this.setAppId(n),a&&this.setUserAgent(a)}var t=e.prototype;return t.setHeaders=function(e){this.headers=e},t.setAppId=function(e){this.appId=e},t.setUserAgent=function(e){this.userAgent=e},t.request=function(){var e=s()(c.a.mark((function e(t,n){var a,i,s,r,d,l=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.method,i=void 0===a?\"GET\":a,s=n.data,r=n.headers,d=void 0===r?{}:r,e.abrupt(\"return\",new Promise((function(e,n){my.request({url:t,method:i,data:s,headers:o()({\"Content-Type\":\"application/json\",\"X-App-Identifier\":l.appId,\"User-Agent\":l.userAgent},d),success:function(t){e(t)},fail:function(e){n(e)}})})));case 2:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.get=function(){var e=s()(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",this.request(t,{method:\"GET\",headers:null==n?void 0:n.headers}));case 1:case\"end\":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.post=function(){var e=s()(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",this.request(t,{method:\"POST\",data:null==n?void 0:n.data,headers:null==n?void 0:n.headers}));case 1:case\"end\":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e}(),u=function(){function e(e){var t=e.firstCities;this.api=new l,this.baseUrl=\"https://api.tiki.vn/v2/directory\",this.firstCities=[\"Hồ Chí Minh\",\"Hà Nội\"],this.cities=[],this.districts={},this.wards={},t&&(this.firstCities=t)}var t=e.prototype;return t.getCities=function(){var e=s()(c.a.mark((function e(){var t,n,a,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.cities.length){e.next=3;break}return e.abrupt(\"return\",Promise.resolve(this.cities));case 3:return e.next=5,this.api.get(this.baseUrl+\"/regions?country_id=vn\");case 5:return a=e.sent,o=this.firstCities.reduce((function(e,t){return e[t]={id:0,name:\"\"},e}),{}),i=a.data.reduce((function(e,t){return o[t.name]?o[t.name]=t:e.push(t),e}),[]),(t=this.cities).push.apply(t,i),(n=this.cities).unshift.apply(n,this.firstCities.map((function(e){return o[e]}))),e.abrupt(\"return\",this.cities);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt(\"return\",[]);case 16:case\"end\":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),t.getDistricts=function(){var e=s()(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.districts[t]){e.next=3;break}return e.abrupt(\"return\",this.districts[t]);case 3:return e.next=5,this.api.get(this.baseUrl+\"/districts?region_id=\"+t);case 5:return n=e.sent,this.districts[t]=n.data,e.abrupt(\"return\",this.districts[t]);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt(\"return\",[]);case 13:case\"end\":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),t.getWards=function(){var e=s()(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.wards[t]){e.next=3;break}return e.abrupt(\"return\",this.wards[t]);case 3:return e.next=5,this.api.get(this.baseUrl+\"/wards?district_id=\"+t);case 5:return n=e.sent,this.wards[t]=n.data,e.abrupt(\"return\",this.wards[t]);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt(\"return\",[]);case 13:case\"end\":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),e}();$global.currentComponentConfig={is:\"../node_modules/@tiki.vn/tini-ui/es/address/index\",componentLifeCycleV2:\"YES\",usingComponents:{dropdown:\"../node_modules/@tiki.vn/tini-ui/es/dropdown/index\",\"bottom-sheet\":\"../node_modules/@tiki.vn/tini-ui/es/bottom-sheet/index\",\"tu-label\":\"../node_modules/@tiki.vn/tini-ui/es/tu-label/index\",textfield:\"../node_modules/@tiki.vn/tini-ui/es/textfield/index\"}};var p=function(e,t){return null!=e&&(e.id?e.id:e)!==(t&&t.id?t.id:t)};Component({props:{street:\"\",city:null,district:null,ward:null,streetLabel:\"Địa chỉ\",streetPlaceholder:\"Địa chỉ\",cityLabel:\"Tỉnh / Thành phố\",cityPlaceholder:\"Chọn Tỉnh / Thành phố\",districtLabel:\"Quận / Huyện\",districtPlaceholder:\"Chọn Quận / Huyện\",wardLabel:\"Phường / Xã\",wardPlaceholder:\"Chọn Phường / Xã\",streetErrorMsg:\"\",cityErrorMsg:\"\",districtErrorMsg:\"\",wardErrorMsg:\"\",showName:!0,nameLabel:\"Tên người nhận\",namePlaceholder:\"Nhập họ & tên người nhận\",full_name:\"\",showPhone:!0,phoneLabel:\"Số điện thoại liên lạc\",phonePlaceholder:\"Nhập số điện thoại người nhận\",phone_number:\"\"},data:{value:{street:\"\",city:null,district:null,ward:null,full_name:\"\",phone_number:\"\"},cities:[],districts:[],wards:[],isShowDropdown:!1},didMount:function(){var e=this;return s()(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props.firstCities,e.addressService=new u({firstCities:n}),e.initDataFromProps(!0);case 3:case\"end\":return t.stop()}}),t)})))()},deriveDataFromProps:function(e){if(!this.isChangingData){var t=e.street,n=e.city,a=e.district,o=e.ward,i=e.full_name,s=e.phone_number,r=e.showPhone,c=e.showName,d=t&&p(t,this.data.value.street),l=n&&p(n,this.data.value.city),u=a&&p(a,this.data.value.district),h=o&&p(o,this.data.value.ward),m=c&&i!==this.data.value.full_name,f=r&&s!==this.data.value.phone_number;(d||l||u||h||m||f)&&this.initDataFromProps(n&&this.data.value.city&&n!==this.data.value.city.id&&n.id!==this.data.value.city.id)}},methods:{addressService:null,isChangingData:\"\",initDataFromProps:function(e){var t=this;return s()(c.a.mark((function n(){var a,i,s,r,d,l,u,p,h,m,f,g,b,v,C;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.isChangingData=!0,a=t.props,i=a.street,s=void 0===i?\"\":i,r=a.city,d=a.district,l=a.ward,u=a.full_name,p=a.phone_number,h=a.showName,m=a.showPhone,f=[t.getCities()],t.getId(r)&&(f.push(t.getDistricts(t.getId(r))),t.getId(d)&&f.push(t.getWards(t.getId(d)))),e&&my.showLoading({content:\"Đang tải...\"}),n.next=7,Promise.all(f);case 7:my.hideLoading(),g=o()({},t.data.value,{street:s}),r&&(g.city=null!=(b=t.data.cities.find((function(e){return e.id===t.getId(r)})))?b:null),d&&(g.district=null!=(v=t.data.districts.find((function(e){return e.id===t.getId(d)})))?v:null),l&&(g.ward=null!=(C=t.data.wards.find((function(e){return e.id===t.getId(l)})))?C:null),h&&(g.full_name=null!=u?u:\"\"),m&&(g.phone_number=null!=p?p:\"\"),t.setData({value:g}),t.isChangingData=!1;case 16:case\"end\":return n.stop()}}),n)})))()},getId:function(e){return e?\"number\"==typeof e||\"string\"==typeof e?+e:e&&e.id:null},onTapDropdown:function(){this.setData({isShowDropdown:!0})},onHideDropdown:function(){this.setData({isShowDropdown:!1})},getCities:function(){var e=this;return s()(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.addressService.getCities();case 2:n=t.sent,e.setData({cities:n});case 4:case\"end\":return t.stop()}}),t)})))()},getDistricts:function(e){var t=this;return s()(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.addressService.getDistricts(e);case 2:a=n.sent,t.setData({districts:a});case 4:case\"end\":return n.stop()}}),n)})))()},getWards:function(e){var t=this;return s()(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.addressService.getWards(e);case 2:a=n.sent,t.setData({wards:a});case 4:case\"end\":return n.stop()}}),n)})))()},onChangeAddress:function(){var e=this,t=this.props,n=t.onChangeAddress,a=t.onFullAddress,i=t.showName,s=t.showPhone,r=this.data.value,c=r.street,l=r.city,u=r.district,p=r.ward,h=r.full_name,m=r.phone_number,f=o()({street:c,city:l,district:u,ward:p},i?{full_name:h}:{},s?{phone_number:m}:{});(n&&n(f),a)&&([Object(d.b)(f.street),Object(d.b)(f.city),Object(d.b)(f.district),Object(d.b)(f.ward),!i||Object(d.b)(f.full_name),!s||Object(d.b)(f.phone_number)].indexOf(!1)<0&&a(f));setTimeout((function(){e.onHideDropdown()}),100),this.isChangingData=!1},changeStreet:function(e){var t=this;this.isChangingData=!0;var n=e.detail.value;this.setData({value:o()({},this.data.value,{street:n})},(function(){t.props.onChangeStreet&&t.props.onChangeStreet(n),t.onChangeAddress()}))},changeName:function(e){var t=this;this.isChangingData=!0;var n=e.detail.value;this.setData({value:o()({},this.data.value,{full_name:n})},(function(){t.props.onChangeName&&t.props.onChangeName(n),t.onChangeAddress()}))},changePhone:function(e){var t=this;this.isChangingData=!0;var n=e.detail.value;this.setData({value:o()({},this.data.value,{phone_number:n})},(function(){t.props.onChangePhone&&t.props.onChangePhone(n),t.onChangeAddress()}))},selectCity:function(e){var t=this;return s()(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.isChangingData=!0,a=o()({},t.data.value,{city:e,district:null,ward:null}),t.setData({value:a,wards:[]},(function(){t.props.onChangeCity&&t.props.onChangeCity(e),t.onChangeAddress()})),t.getDistricts(e.id);case 4:case\"end\":return n.stop()}}),n)})))()},selectDistrict:function(e){var t=this;return s()(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.isChangingData=!0,a=o()({},t.data.value,{district:e,ward:null}),t.setData({value:a},(function(){t.props.onChangeDistrict&&t.props.onChangeDistrict(e),t.onChangeAddress()})),t.getWards(e.id);case 4:case\"end\":return n.stop()}}),n)})))()},selectWard:function(e){var t=this;return s()(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.isChangingData=!0,a=o()({},t.data.value,{ward:e}),t.setData({value:a},(function(){t.props.onChangeWard&&t.props.onChangeWard(e),t.onChangeAddress()}));case 3:case\"end\":return n.stop()}}),n)})))()}}})},function(e,t,n){\"use strict\";n.r(t);var a={}.hasOwnProperty;var o=n(15);$global.currentComponentConfig={is:\"../node_modules/@tiki.vn/tini-ui/es/textfield/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"tu-label\":\"../node_modules/@tiki.vn/tini-ui/es/tu-label/index\",\"tu-icon\":\"../node_modules/@tiki.vn/tini-ui/es/tu-icon/index\"}},Component({data:{paddingHorizontal:16,iconDisabledColor:\"rgba(166, 166, 176, 0.6)\",wrapClass:\"\"},props:{labelCls:\"\",showBadge:!1,labelIcon:\"\",labelIconColor:\"#808089\",helperText:\"\",labelText:\"\",iconRight:\"\",iconLeft:\"\",iconColor:\"#808089\",shape:\"rounded\",loading:!1,inputCls:\"\",className:\"\",errorMsg:\"\",readonly:!1,hasError:!1,errorIconColor:\"#ff424f\",type:\"text\",password:!1,name:\"\",value:\"\",placeholder:\"\",placeholderClass:\"\",placeholderStyle:\"\",disabled:!1,maxlength:140,focus:!1,controlled:!1,onTap:void 0,onTapRightIcon:void 0,onTapLeftIcon:void 0,onInput:void 0,onConfirm:void 0,onFocus:void 0,onBlur:void 0},onInit:function(){this.setData({wrapClass:this.getWrapClass(this.props)})},didUpdate:function(e){this.isClassChange(e,this.props)&&this.setData({wrapClass:this.getWrapClass(this.props)})},methods:{getWrapClass:function(e){var t,n=e.shape,o=e.hasError;return function e(){for(var t=[],n=0;n<arguments.length;n++){var o=n<0||arguments.length<=n?void 0:arguments[n];if(o){var i=typeof o;if(\"string\"===i||\"number\"===i)t.push(o);else if(Array.isArray(o)&&o.length){var s=e.apply(null,o);s&&t.push(s)}else if(\"object\"===i)for(var r in o)a.call(o,r)&&o[r]&&t.push(r)}}return t.join(\" \")}(((t={}).error=o,t.rounded=\"rounded\"===n,t.pill=\"pill\"===n,t))},isClassChange:function(e,t){return e.shape!==t.shape||e.hasError!==t.hasError},onEvent:function(e,t){var n=this.props[e];n&&t&&n(Object(o.a)(this.props,t))},onTap:function(e){this.onEvent(\"onTap\",e)},onTapIconLeft:function(e){this.onEvent(\"onTapIconLeft\",e)},onTapIconRight:function(e){this.onEvent(\"onTapIconRight\",e)},onBlur:function(e){this.onEvent(\"onBlur\",e)},onConfirm:function(e){this.onEvent(\"onConfirm\",e)},onFocus:function(e){this.onEvent(\"onFocus\",e)},onInput:function(e){this.onEvent(\"onInput\",e)}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(1),i=n(0),s=n(11),r=n(8);$global.currentPageConfig={pagePath:\"pages/address/index\",usingComponents:{\"address-card\":\"components/address-card/index\"}},Object(a.b)({mapState:[\"buyer\"],mapDispatch:{getBuyerInfo:r.d,changeDefaultAddress:r.b,getUserToken:s.a}})({data:{status:i.a.LOADING},async onLoad(e){my.setNavigationBar({title:\"Deliver to\"}),this.data.buyer.status===i.a.LOADING&&await this.getBuyerInfo(),this.setData({status:i.a.SUCCESS})},onNewPlaceSelect(){Object(o.f)(\"new-address\")},onSelectAddress(e){this.changeDefaultAddress(e.target.dataset.id),my.navigateBack()},onEditAddress({id:e}){Object(o.f)(\"edit-address\",{id:e})},async onOpenAddressBook(){this.data.token||await this.getUserToken(),my.getAddress({success:e=>{const t=function(e){const{full_name:t,city:n,city_id:a,district:o,district_id:i,ward:s,ward_id:r,phone_number:c,street:d}=e;return{name:t,phone:c,addressText:`${d}, ${s}, ${o}, ${n}`,address:{street:d,city:{id:a,name:n},district:{id:i,name:o},ward:{id:r,name:s}}}}(e);this.changeDefaultAddress(\"\",t),my.navigateBack()},fail:({errorMessage:e})=>{}})}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(16),i=n(0),s=n(1);$global.currentPageConfig={pagePath:\"pages/orders-list/index\",usingComponents:{\"order-card\":\"pages/orders-list/child/order-card/index\",\"no-item\":\"components/no-item/index\"}},Object(a.b)({mapState:[e=>({list:e.order.list})],mapDispatch:{getAllOrders:o.a}})({data:{currentTab:i.a.STORE_PICKUP,status:i.a.LOADING},async onLoad(e){const{finishedOnly:t}=Object(s.g)(e);my.setNavigationBar({title:t?\"Order history\":\"Order management\"}),my.addIconsToNavigationBar({icons:[{image:\"/assets/history.png\",width:24,height:24}]}),this.data.list.status===i.a.LOADING&&await this.getAllOrders();const n=function(e,t=!1){e=e.filter(e=>{const n=[i.a.COMPLETED,i.a.FAIL,i.a.DELIVERED].includes(e.status);return t?n:!n});let n={[i.a.DELIVERY]:[],[i.a.STORE_PICKUP]:[]};return e.forEach(e=>{n[e.orderMethod].push(e)}),n}(this.data.list.data,t);this.setData({status:i.a.SUCCESS,orders:n})},onCustomIconEvent(){Object(s.f)(\"orders-list\",{finishedOnly:!0})},onStorePickupClick(){this.setData({currentTab:\"STORE_PICKUP\"})},onDeliveryClick(){this.setData({currentTab:\"DELIVERY\"})},onMoveToProductList(){Object(s.f)(\"delivery\",{method:this.data.currentTab})}})},function(e,t,n){\"use strict\";n.r(t);const a=e=>e.reduce((e,t)=>(t.favorite?e.favorite.push(t):e.other.push(t),e),{favorite:[],other:[]});$global.currentComponentConfig={is:\"components/stores-list/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"address-card\":\"components/address-card/index\"}},Component({props:{status:\"LOADING\",stores:[],onSelect(){}},data:{favorite:[],other:[]},methods:{onSelect(e){this.props.onSelect(e)}},didMount(){this.setData({...a(this.props.stores)})},didUpdate(){this.setData({...a(this.props.stores)})}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(7),i=n(1);$global.currentPageConfig={pagePath:\"pages/stores-list/index\",usingComponents:{\"c-icon\":\"components/c-icon/index\",\"address-card\":\"components/address-card/index\",\"stores-list\":\"components/stores-list/index\",textfield:\"../node_modules/@tiki.vn/tini-ui/es/textfield/index\",\"no-item\":\"components/no-item/index\",\"search-bar\":\"../node_modules/@tiki.vn/tini-ui/es/search-bar/index\"}},Object(a.b)({mapState:[e=>({stores:e.store.list})],mapDispatch:{getAllStore:o.b,changeDefaultStore:o.a}})({data:{status:\"LOADING\"},async onLoad(e){my.setNavigationBar({title:\"Stores\"}),\"LOADING\"===this.data.stores.status&&await this.getAllStore(),this.setData({status:\"SUCCESS\",searchResult:this.data.stores.data})},onStoreSelect(e){const t=e.target.dataset.id;this.changeDefaultStore(t),Object(i.f)(\"store-detail\",{id:t})},onSearchInput(e){const{value:t}=e.detail;this.setData({searchValue:t}),this.onSearch(t)},onClearInput(e){this.setData({searchValue:\"\"}),this.setData({searchResult:this.data.list.data})},onSearch(e){const t=((e,t)=>e.filter(e=>e.name.toLowerCase().includes((\"\"+t).toLowerCase().trim())||e.address.toLowerCase().includes((\"\"+t).toLowerCase().trim())))(this.data.stores.data,e);this.setData({searchResult:t})}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(8),i=n(11);const s=e=>{const{name:t,phone:n}=e,{city:a,district:o,ward:i,street:s}=e.address;return{full_name:t,phone_number:n,street:s,city_id:a.id,district_id:o.id,ward_id:i.id,is_default:!1,delivery_address_type:\"home\"}};$global.currentPageConfig={pagePath:\"pages/new-address/index\",usingComponents:{\"c-checkbox\":\"components/c-checkbox/index\",address:\"../node_modules/@tiki.vn/tini-ui/es/address/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Object(a.b)({mapState:[e=>({token:e.auth.token})],mapDispatch:{addBuyerAddress:o.a,getUserToken:i.a,refreshUserToken:i.b}})({data:{willSaveToAddressBook:!1,addressInfo:{name:\"\",phone:\"\",address:{street:\"\",city:null,district:null,ward:null}},errMsg:{name:\"\",city:\"\",ward:\"\",phone:\"\",street:\"\",district:\"\"}},onLoad(e){my.setNavigationBar({title:\"New address\"})},onAddressChange(e){const{street:t,city:n,district:a,ward:o,full_name:i,phone_number:s}=e;this.setData({addressInfo:{name:i,phone:s.trim().slice(0,10),address:{street:t.slice(0,50),city:n,ward:o,district:a}}})},async onSave(){const[e,t]=function(e){let t={},n=!0;var a;return(!e.name.length||e.name.length>50)&&(t.name=\"Please enter a valid name\"),a=e.name,/[`!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~\\d]/.test(a)&&(t.name=\"The content contains invalid characters (numbers, special characters...), please re-enter\"),10!==e.phone.trim().length&&(t.phone=\"Please enter a 10 digit phone number\"),e.address.city||(t.city=\"Please select your city\"),e.address.district||(t.district=\"Please select your district\"),e.address.ward||(t.ward=\"Please select your ward\"),e.address.street.split(\" \").length<2&&(t.street=\"The address must contain at least 2 words\"),e.address.street||(t.street=\"Please enter street name\"),Object.keys(t).length&&(n=!1),[n,t]}(this.data.addressInfo);if(this.setData({errMsg:t}),!e)return;const n=(e=>{const{city:t,district:n,ward:a,street:o}=e.address;return e.addressText=`${o}, ${a.name}, ${n.name}, ${t.name}`,e})(this.data.addressInfo);this.addBuyerAddress(n),this.data.willSaveToAddressBook&&(this.data.token?await this.refreshUserToken():await this.getUserToken(),my.saveAddress({data:s(this.data.addressInfo),success:e=>{},fail:({errorMessage:e})=>{const t=\"Message: \"+e;my.alert({title:\"Fail to save to address book.\",content:t,buttonText:\"OK\"})}})),my.navigateBack()},onToggleCheckBox(){this.setData({willSaveToAddressBook:!this.data.willSaveToAddressBook})}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(1),i=n(8),s=n(11);const r=e=>{const{city:t,district:n,ward:a,street:o}=e.address;return e.addressText=`${o}, ${a.name}, ${n.name}, ${t.name}`,e},c=e=>{const{name:t,phone:n}=e,{city:a,district:o,ward:i,street:s}=e.address;return{full_name:t,phone_number:n,street:s,city_id:a.id,district_id:o.id,ward_id:i.id,is_default:!1,delivery_address_type:\"home\"}};$global.currentPageConfig={pagePath:\"pages/edit-address/index\",usingComponents:{\"c-modal\":\"components/c-modal/index\",\"c-checkbox\":\"components/c-checkbox/index\",address:\"../node_modules/@tiki.vn/tini-ui/es/address/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Object(a.b)({mapState:[e=>({addressList:e.buyer.addressList,token:e.auth.token})],mapDispatch:{updateBuyerAddress:i.e,deleteBuyerAddress:i.c,getUserToken:s.a,refreshUserToken:s.b}})({data:{_id:\"\",paddingStatus:\"\",isShowModal:!1,willSaveToAddressBook:!1,addressInfo:{name:\"\",phone:\"\",address:{street:\"\",city:null,district:null,ward:null}},errMsg:{name:\"\",city:\"\",ward:\"\",phone:\"\",street:\"\",district:\"\"}},onLoad(e){my.setNavigationBar({title:\"Edit address\"}),my.addIconsToNavigationBar({icons:[{image:\"/assets/delete.png\",width:24,height:24}],padding:10});const t=Object(o.g)(e).id,n=((e,t)=>e.find(e=>e._id===t))(this.data.addressList,t);this.setData({addressInfo:n,_id:t})},onActivePadding(){this.setData({paddingStatus:\"active\"})},onHidePadding(){this.setData({paddingStatus:\"\"})},onAddressChange(e){const{street:t,city:n,district:a,ward:o,full_name:i,phone_number:s}=e;this.setData({addressInfo:{name:i,phone:s.trim(),address:{street:t,city:n,ward:o,district:a}}})},async onSave(){const[e,t]=function(e){let t={},n=!0;var a;return(!e.name.length||e.name.length>50)&&(t.name=\"Please enter a valid name\"),a=e.name,/[`!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~\\d]/.test(a)&&(t.name=\"The content contains invalid characters (numbers, special characters...), please re-enter\"),10!==e.phone.trim().length&&(t.phone=\"Please enter a 10 digit phone number\"),e.address.city||(t.city=\"Please select your city\"),e.address.district||(t.district=\"Please select your district\"),e.address.ward||(t.ward=\"Please select your ward\"),e.address.street.split(\" \").length<2&&(t.street=\"The address must contain at least 2 words\"),e.address.street||(t.street=\"Please enter street name\"),Object.keys(t).length&&(n=!1),[n,t]}(this.data.addressInfo);if(this.setData({errMsg:t}),!e)return;const n={...r(this.data.addressInfo),_id:this.data._id};this.updateBuyerAddress(n),this.data.willSaveToAddressBook&&(this.data.token?await this.refreshUserToken():await this.getUserToken(),my.saveAddress({data:c(this.data.addressInfo),success:e=>{},fail:({errorMessage:e})=>{const t=\"Message: \"+e;my.alert({title:\"Fail to save to address book.\",content:t,buttonText:\"OK\"})}})),my.navigateBack()},onCustomIconEvent(e){this.setData({isShowModal:!0})},onCloseModal(){this.setData({isShowModal:!1})},onConfirmDelete(){this.deleteBuyerAddress(this.data._id),my.navigateBack()},onToggleCheckBox(){this.setData({willSaveToAddressBook:!this.data.willSaveToAddressBook})}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(0),i=n(1),s=n(7);$global.currentPageConfig={pagePath:\"pages/store-search/index\",usingComponents:{\"c-icon\":\"components/c-icon/index\",\"no-item\":\"components/no-item/index\",\"stores-list\":\"components/stores-list/index\",\"address-card\":\"components/address-card/index\",textfield:\"../node_modules/@tiki.vn/tini-ui/es/textfield/index\",\"search-bar\":\"../node_modules/@tiki.vn/tini-ui/es/search-bar/index\"}},Object(a.b)({mapState:[e=>({list:e.store.list})],mapDispatch:{getAllStore:s.b,changeDefaultStore:s.a}})({data:{searchResult:[],searchValue:\"\"},async onLoad(e){my.setNavigationBar({title:\"Search store\"}),this.onSearch=Object(i.b)(this.onSearch,500);const t=Object(i.g)(e).next;this.data.list.status===o.a.LOADING&&await this.getAllStore(),this.setData({next:t,status:o.a.SUCCESS,searchResult:this.data.list.data})},onSearchInput(e){const{value:t}=e.detail;this.setData({searchValue:t}),this.onSearch(t)},onClearInput(e){this.setData({searchValue:\"\"}),this.setData({searchResult:this.data.list.data})},onSearch(e){const t=((e,t)=>e.filter(e=>e.name.toLowerCase().includes((\"\"+t).toLowerCase().trim())||e.address.toLowerCase().includes((\"\"+t).toLowerCase().trim())))(this.data.list.data,e);this.setData({searchResult:t})},onStoreSelect(e){const t=e.target.dataset.id;this.changeDefaultStore(t),\"info\"===this.data.next&&Object(i.f)(\"store-detail\",{id:t}),[\"delivery\",\"reservation\"].includes(this.data.next)&&my.navigateBack({delta:1})}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(14),i=n(0),s=n(12),r=n(1),c=n(13);const d=e=>{let t=e.attributes.reduce((e,t)=>(e[t._id]=t.default,e),{});return{number:1,additionalFee:0,total:e.price,selectedAttributes:t,product:{...e,attributes:u(e.attributes,t)}}},l=(e,t)=>{let n={...e};return n.number=t,n.total=p(n),n},u=(e,t)=>e.map(e=>({...e,values:e.values.map(n=>({...n,checked:-1!==t[e._id].indexOf(n._id)}))})),p=e=>(e.product.price+e.additionalFee)*e.number,h=(e,t,n)=>{let a={...e};const o=a.product.attributes.filter(e=>e._id===t)[0],i=a.selectedAttributes[t].indexOf(n);return o.numberSelectionAllow>1?-1!==i?a.selectedAttributes[t].splice(i,1):a.selectedAttributes[t].push(n):-1===i&&(a.selectedAttributes[t]=[n]),a.product.attributes=u(a.product.attributes,a.selectedAttributes),a.additionalFee=(e=>{let t=0;return e.forEach(e=>{e.values.forEach(e=>{e.checked&&(t+=e.additionalFee)})}),t})(a.product.attributes),a.total=p(a),a};$global.currentPageConfig={pagePath:\"pages/product-detail/index\",usingComponents:{\"c-navbar\":\"components/c-navbar/index\",\"add-to-cart\":\"pages/product-detail/child/add-to-cart/index\",\"attributes-list\":\"pages/product-detail/child/attributes-list/index\",\"attribute-select\":\"pages/product-detail/child/attribute-select/index\",\"product-main-info\":\"pages/product-detail/child/product-main-info/index\",\"sticky-bottom\":\"components/sticky-bottom/index\"}},Object(a.b)({mapState:[e=>({info:e.product.info})],mapDispatch:{addCart:s.a,getProductInfo:o.b,toggleFavoriteProduct:o.c}})({data:{total:0,note:\"\",number:1,prevTop:0,screenHeight:0,additionalFee:0,paddingStatus:\"\",status:i.a.LOADING,selectedAttributes:[],isHideOrderMessage:!1},async onLoad(e){const{method:t,id:n}=Object(r.g)(e);await this.getProductInfo(n);const a=await c.a.getSystemInfo();this.setData({...d(this.data.info.data),status:i.a.SUCCESS,orderMethod:t,screenHeight:a.screenHeight})},onShow(){my.hideBackHome({hide:!0})},onPageScroll(e){const{scrollTop:t}=e,{prevTop:n}=this.data;t>n&&t>200&&n<200&&(this.setData({prevTop:t}),my.hideBackHome({hide:!1})),t<n&&t<200&&n>200&&(this.setData({prevTop:t}),my.hideBackHome({hide:!0}))},onTextBlur(){this.setData({paddingStatus:\"\"})},onTextFocus(){this.setData({paddingStatus:\"active\"})},onChangeNumber(e){this.setData({...l(this.data,e)})},onSelectAttribute(e,t){this.setData({...h(this.data,e,t)})},onNoteInput(e){this.setData({note:e.detail.value})},onAddCart(){this.addCart((e=>{const t=e.product.attributes.reduce((t,n)=>e.selectedAttributes[n._id]&&e.selectedAttributes[n._id].length?(t.push({name:n.name,values:n.values.filter(e=>e.checked).map(e=>e.name)}),t):t,[]);return{note:e.note,total:e.total,selectedAttributes:t,number:e.number,name:e.product.name,image:e.product.avatar,orderMethod:e.orderMethod}})(this.data))},onToggleFavorite(){this.setData({product:{...this.data.product,isFavorite:!this.data.info.data.isFavorite}}),this.toggleFavoriteProduct(this.data.info.data._id,!this.data.info.data.isFavorite)}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(0),i=n(14),s=n(1);const r=e=>e.filter((e,t)=>t<6);$global.currentPageConfig={pagePath:\"pages/product-search/index\",usingComponents:{\"c-icon\":\"components/c-icon/index\",\"no-item\":\"components/no-item/index\",\"product-card\":\"components/product-card/index\",\"address-card\":\"components/address-card/index\",textfield:\"../node_modules/@tiki.vn/tini-ui/es/textfield/index\",\"search-bar\":\"../node_modules/@tiki.vn/tini-ui/es/search-bar/index\"}},Object(a.b)({mapState:[e=>({list:e.product.list,store:e.store.defaultStore})],mapDispatch:{getAllProducts:i.a}})({data:{searchValue:\"\",searchResult:[],status:o.a.LOADING},async onLoad(e){my.setNavigationBar({title:\"Search\"});const t=Object(s.g)(e).method;this.data.list.status===o.a.LOADING&&await this.getAllProducts(),this.setData({orderMethod:t,status:o.a.SUCCESS,searchResult:r(this.data.list.data)}),this.onSearch=Object(s.b)(this.onSearch,500)},onShow(){my.setCanPullDown({canPullDown:!1})},onSearchInput(e){const{value:t}=e.detail;this.setData({searchValue:t}),this.onSearch(t)},onClearInput(e){this.setData({searchValue:\"\"}),this.setData({searchResult:r(this.data.list.data)})},onSearch(e){const t=(n=this.data.list.data,a=e,n.filter(e=>e.name.toLowerCase().includes((\"\"+a).toLowerCase().trim())));var n,a;this.setData({searchResult:t})},onProductClick(e){const t=e._id;Object(s.f)(\"product-detail\",{method:this.data.orderMethod,id:t})}})},function(e,t,n){\"use strict\";n.r(t);function a(){let e=new Date;e.setHours(0,0,0,0);let t=[];for(let n=0;n<21;n++)t.push({content:o(e),value:e.getTime()}),e.setDate(e.getDate()+1);return t}function o(e){return(e=new Date(e)).toLocaleDateString(\"en-US\",{weekday:\"short\",year:\"numeric\",month:\"2-digit\",day:\"2-digit\"}).slice(0,-5).replace(\",\",\"\")}$global.currentComponentConfig={is:\"pages/online-reservation/child/loose-variant/index\",componentLifeCycleV2:\"YES\",usingComponents:{\"address-card\":\"components/address-card/index\",textfield:\"../node_modules/@tiki.vn/tini-ui/es/textfield/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\"}},Component({data:{peopleList:Array(20),dateList:[]},props:{onNumberPeopleSelect(){},onTimeSelect(){},onDateSelect(){},onStoreSelect(){},onReserve(){},store:{},selected:{},timeList:[]},onInit(){this.setData({dateList:a()})},methods:{onDateSelect(e){const{date:t}=e.target.dataset;this.props.onDateSelect(t),this.setData({isShowDateSelect:!1})},onNumberPeopleSelect(e){const{number:t}=e.target.dataset;this.props.onNumberPeopleSelect(t),this.setData({isShowNumberPeopleSelect:!1})},onTimeSelect(e){this.props.onTimeSelect(e)},onStoreSelect(){this.props.onStoreSelect()},onReserve(){this.props.onReserve()}}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(10),i=n(7),s=n(0),r=n(1);const c={year:\"numeric\",month:\"2-digit\",day:\"2-digit\"};function d(e){return{content:(e=new Date(e)).toLocaleDateString(\"vi-VI\",c),value:e.getTime()}}function l(e){return(e=new Date(e)).toDateString()===(new Date).toDateString()}function u(){const e=new Date;return e.setHours(0,0,0,0),{content:e.toLocaleDateString(\"vi-VI\",c),value:e.getTime()}}function p(e){let t=\"00:00\",n=e?new Date(e):new Date;if(!l(n))return\"07:00\";n=new Date;let a=n.getHours(),o=n.getMinutes();return a<7&&(a=6,o=30),t=o<30?Object(r.e)(a,2)+\":30\":Object(r.e)(a+1,2)+\":00\",t}function h(e){let t=[],n=7;const a=new Date,o=a.getHours(),i=a.getMinutes();if(l(e)&&o>=7){let e=o-0;i-0<30&&t.push(Object(r.e)(e,2)+\":30\"),n=e+1}for(let e=n;e<24;e++)t.push(Object(r.e)(e,2)+\":00\"),t.push(Object(r.e)(e,2)+\":30\");return t}$global.currentPageConfig={pagePath:\"pages/online-reservation/index\",usingComponents:{\"compact-variant\":\"pages/online-reservation/child/compact-variant/index\",\"loose-variant\":\"pages/online-reservation/child/loose-variant/index\",\"address-card\":\"components/address-card/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\",\"c-navbar\":\"components/c-navbar/index\"}},Object(a.b)({mapState:[e=>({store:e.store.defaultStore,list:e.reservation.list})],mapDispatch:{getAllStore:i.b,selectTable:o.e,getReservations:o.d}})({data:{variant:\"COMPACT\",status:s.a.LOADING,timeList:[],selected:{numberOfAdults:1,date:u()}},async onLoad(e){this.data.store||await this.getAllStore(),\"LOADING\"===this.data.list.status&&await this.getReservations(),this.setData({reservations:this.data.list.data,status:s.a.SUCCESS})},onShow(){my.hideBackHome({hide:!0}),this.setData({reservations:this.data.list.data,timeList:h(this.data.selected.date.value),selected:{...this.data.selected,time:p(this.data.selected.date.value)}})},onDateSelect(e){const{selected:t}=this.data;var n,a;(n=t.date.value,a=e,new Date(n).toDateString()!==new Date(a).toDateString())&&this.setData({timeList:h(e),selected:{...t,date:d(e),time:p(e)}})},onNumberPeopleSelect(e){this.setData({selected:{...this.data.selected,numberOfAdults:e}})},onTimeSelect(e){const{time:t}=e.target.dataset;this.setData({selected:{...this.data.selected,time:t}})},onStoreSelect(){Object(r.f)(\"store-search\",{next:\"reservation\"})},onSupportSelect(){my.makePhoneCall({number:\"0342909090\"})},onReserve(){const{selected:e,store:t}=this.data,{date:n}=e;if(function(e){e=new Date(e);let t=new Date;return t.setHours(0,0,0,0),e.setHours(0,0,0,0),e.getTime()<t.getTime()}(e.date.value)||l(e.date.value)&&((a=e.time)>\"23:30\"||a<\"07:00\"||!(a>=p())))return my.alert({title:\"Oh no\",content:\"Please select a valid time to reserve this table\"}),void this.setData({timeList:h(u().value)});var a;this.selectTable({...e,store:t,date:n.content}),Object(r.f)(\"reservation-review\")}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1);function o(e){let t=e;const n=Math.floor(e/3600);t=e%3600;const o=Math.floor(e/60);return t=e%60,(n?Object(a.e)(n,2)+\":\":\"\")+`${Object(a.e)(o,2)}:${Object(a.e)(t,2)}`}$global.currentComponentConfig={is:\"components/timer/index\",componentLifeCycleV2:\"YES\"},Component({props:{time:300,isHide:!1,onTimeOut(){}},data:{remain:300,displayStr:\"00:00\",hideTime:0},onInit(){const e=o(this.props.time);this.setData({remain:this.props.time,displayStr:e});const t=setInterval(()=>{this.setData({remain:this.data.remain-1})},1e3);this.timer=t},deriveDataFromProps(e){if(e.isHide&&this.setData({hideTime:(new Date).getTime()}),!e.isHide&&this.props.isHide){const e=Math.floor(((new Date).getTime()-this.data.hideTime)/1e3);this.setData({remain:Math.max(this.data.remain-e,0)})}},didUpdate(){const e=o(this.data.remain);this.setData({displayStr:e}),this.data.remain<=0&&(clearInterval(this.timer),this.props.onTimeOut())},didUnmount(){clearInterval(this.timer)},methods:{}})},function(e,t,n){\"use strict\";n.r(t);var a=n(2),o=n(1),i=n(0),s=n(8),r=n(10);$global.currentPageConfig={pagePath:\"pages/reservation-review/index\",usingComponents:{timer:\"components/timer/index\",\"time-out-modal\":\"pages/reservation-review/child/time-out-modal/index\",button:\"../node_modules/@tiki.vn/tini-ui/es/tu-button/index\",\"contact-info\":\"pages/reservation-review/child/contact-info/index\",\"booking-info\":\"pages/reservation-review/child/booking-info/index\",\"note-info\":\"pages/reservation-review/child/note-info/index\"}},Object(a.b)({mapState:[e=>({info:e.reservation.info.data,list:e.reservation.list,buyer:e.buyer})],mapDispatch:{getBuyerInfo:s.d,bookingTable:r.a}})({data:{paddingStatus:\"\",childrenNumber:0,timer:300,isHide:!1,elderlyPeopleNumber:0,smsReminder:!1,isShowModal:!1,contact:{name:\"\",phone:\"\",email:\"\"},note:\"\",area:\"Any\",areaList:[\"Any\",\"Inside\",\"Outside\"],errMsg:{name:\"\",phone:\"\",email:\"\"}},async onLoad(e){my.setNavigationBar({title:\"Review information\"}),this.onNameInput=Object(o.b)(this.onNameInput,300),this.onPhoneInput=Object(o.b)(this.onPhoneInput,300),this.onEmailInput=Object(o.b)(this.onEmailInput,300),this.data.buyer.status===i.a.LOADING&&await this.getBuyerInfo();const{name:t,email:n,phone:a}=this.data.buyer.defaultAddress;this.setData({contact:{name:t,email:n,phone:a}})},onHide(){this.setData({isHide:!0})},onShow(){this.setData({isHide:!1})},onShowPadding(){this.setData({paddingStatus:\"active\"})},onHidePadding(){this.setData({paddingStatus:\"\"})},onAreaSelect(e){const{value:t}=e.target.dataset;this.setData({area:t})},onNoteInput(e){this.setData({note:e.detail.value})},onContactInput(e){const{type:t}=e.target.dataset,{value:n}=e.detail;this.setData({contact:{...this.data.contact,[t]:n}})},onNumberPeopleChange(e,t){this.setData({[e]:t})},onSubmit(){const[e,t]=function(e){let t={},n=!0;var a,o;return(!e.name.trim().length||e.name.length>50)&&(t.name=\"Please enter a valid name\"),a=e.name,/[`!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~\\d]/.test(a)&&(t.name=\"The content contains invalid characters (numbers, special characters...), please re-enter\"),10!==e.phone.trim().length&&(t.phone=\"Please enter a 10 digit phone number\"),e.email.length&&(o=e.email,/^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i.test(o))||(t.email=\"Please enter a valid email address\"),Object.keys(t).length&&(n=!1),[n,t]}(this.data.contact);if(this.setData({errMsg:t}),e){const{info:e,area:t,note:n,contact:a,smsReminder:i,elderlyPeopleNumber:s,childrenNumber:r}=this.data,c={detail:n,seats:[{title:\"Elderly people\",value:s},{title:\"Children\",value:r}],sittingArea:t},d=\"id_\"+(new Date).getTime();this.bookingTable({_id:d,notes:c,...e,contact:a,smsReminder:i,status:\"reserved\"}),Object(o.h)(\"reservation-detail\",{id:d})}},onToggleSMSRemider(){this.setData({smsReminder:!this.data.smsReminder})},onTimeOut(){this.setData({isShowModal:!0})},onNavBack(){my.navigateBack()}})}]);","extractedComments":[]}